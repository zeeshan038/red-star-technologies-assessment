(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29801,(e,t,r)=>{"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((s=t.length)!=r.length)return!1;for(n=s;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((s=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=s;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;0!=n--;){var s,n,i,a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},66640,e=>{"use strict";var t,r,s=e.i(43476),n=e.i(71645),i=e.i(18566),a=e.i(30889),o=e.i(47133);let{useCreateTaskMutation:l,useGetAllTaskQuery:d,useUpdateTaskMutation:c,useDeleteTaskMutation:u,useToggleTaskStatusMutation:g}=e.i(13271).apiSlice.injectEndpoints({endpoints:e=>({createTask:e.mutation({query:({projectId:e,body:t})=>({url:`${o.task_url}/create/${e}`,method:"POST",body:t}),invalidatesTags:["Task"]}),getAllTask:e.query({query:({projectId:e,status:t,assigned_to:r})=>{let s=new URLSearchParams;return e&&s.append("projectId",e),t&&s.append("status",t),r&&s.append("assigned_to",r),{url:`${o.task_url}/all?${s.toString()}`,method:"GET"}},providesTags:["Task"]}),updateTask:e.mutation({query:({id:e,body:t})=>({url:`${o.task_url}/${e}`,method:"PATCH",body:t}),invalidatesTags:["Task"]}),deleteTask:e.mutation({query:e=>({url:`${o.task_url}/${e}`,method:"DELETE"}),invalidatesTags:["Task"]}),changeStatus:e.mutation({query:({id:e,body:t})=>({url:`${o.task_url}/${e}`,method:"PATCH",body:t}),invalidatesTags:["Task"]}),toggleTaskStatus:e.mutation({query:({id:e,body:t})=>({url:`${o.task_url}/status/${e}`,method:"PATCH",body:t}),invalidatesTags:["Task"]})})});var h=e.i(50634),f=e.i(47167);function p(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var m="function"==typeof Symbol&&Symbol.observable||"@@observable",x=function(){return Math.random().toString(36).substring(7).split("").join(".")},b={INIT:"@@redux/INIT"+x(),REPLACE:"@@redux/REPLACE"+x(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+x()}};function y(e,t,...r){if(void 0!==f.default&&void 0===t)throw Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;(e=Error(t.replace(/%s/g,function(){return r[s++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}function v(e){return"object"==typeof e}let D="dnd-core/INIT_COORDS",w="dnd-core/BEGIN_DRAG",j="dnd-core/PUBLISH_DRAG_SOURCE",S="dnd-core/HOVER",T="dnd-core/DROP",N="dnd-core/END_DRAG";function O(e,t){return{type:D,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}let E={type:D,payload:{clientOffset:null,sourceClientOffset:null}};function I(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}class C{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){var e,t,r,s,n;let i=this,{dispatch:a}=this.store,o={beginDrag:(e=this,function(t=[],r={publishSource:!0}){var s,n,i;let{publishSource:a=!0,clientOffset:o,getSourceClientOffset:l}=r,d=e.getMonitor(),c=e.getRegistry();e.dispatch(O(o)),s=t,n=d,i=c,y(!n.isDragging(),"Cannot call beginDrag while dragging."),s.forEach(function(e){y(i.getSource(e),"Expected sourceIds to be registered.")});let u=function(e,t){let r=null;for(let s=e.length-1;s>=0;s--)if(t.canDragSource(e[s])){r=e[s];break}return r}(t,d);if(null==u)return void e.dispatch(E);let g=null;if(o){if(!l)throw Error("getSourceClientOffset must be defined");y("function"==typeof l,"When clientOffset is provided, getSourceClientOffset must be a function."),g=l(u)}e.dispatch(O(o,g));let h=c.getSource(u).beginDrag(d,u);if(null!=h)return y(v(h),"Item must be an object."),c.pinSource(u),{type:w,payload:{itemType:c.getSourceType(u),item:h,sourceId:u,clientOffset:o||null,sourceClientOffset:g||null,isSourcePublic:!!a}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:j}}),hover:(r=this,function(e,{clientOffset:t}={}){var s,n,i;y(Array.isArray(e),"Expected targetIds to be an array.");let a=e.slice(0),o=r.getMonitor(),l=r.getRegistry();return function(e,t,r){for(let s=e.length-1;s>=0;s--){let n=e[s];I(t.getTargetType(n),r)||e.splice(s,1)}}(a,l,o.getItemType()),function(e,t,r){y(t.isDragging(),"Cannot call hover while not dragging."),y(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let s=e[t];y(e.lastIndexOf(s)===t,"Expected targetIds to be unique in the passed array."),y(r.getTarget(s),"Expected targetIds to be registered.")}}(a,o,l),s=a,n=o,i=l,s.forEach(function(e){i.getTarget(e).hover(n,e)}),{type:S,payload:{targetIds:a,clientOffset:t||null}}}),drop:(s=this,function(e={}){var t,r;let n,i=s.getMonitor(),a=s.getRegistry();y((t=i).isDragging(),"Cannot call drop while not dragging."),y(!t.didDrop(),"Cannot call drop twice during one drag operation."),((n=(r=i).getTargetIds().filter(r.canDropOnTarget,r)).reverse(),n).forEach((t,r)=>{var n,o,l,d,c;let u,g,h={type:T,payload:{dropResult:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e,(n=t,o=r,l=a,d=i,y(void 0===(c=g=(u=l.getTarget(n))?u.drop(d,n):void 0)||v(c),"Drop result must either be an object or undefined."),void 0===g&&(g=0===o?{}:d.getDropResult()),g))}};s.dispatch(h)})}),endDrag:(n=this,function(){let e=n.getMonitor(),t=n.getRegistry();y(e.isDragging(),"Cannot call endDrag while not dragging.");let r=e.getSourceId();return null!=r&&(t.getSource(r,!0).endDrag(e,r),t.unpinSource()),{type:N}})};return Object.keys(o).reduce((e,t)=>{let r=o[t];return e[t]=(...e)=>{let t=r.apply(i,e);void 0!==t&&a(t)},e},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function k(e,t){return{x:e.x-t.x,y:e.y-t.y}}let P=[],M=[];P.__IS_NONE__=!0,M.__IS_ALL__=!0;class R{subscribeToStateChange(e,t={}){let{handlerIds:r}=t;y("function"==typeof e,"listener must be a function."),y(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId,n=()=>{let t=this.store.getState(),n=t.stateId;try{n===s||n===s+1&&!function(e,t){return e!==P&&(e===M||void 0===t||t.filter(t=>e.indexOf(t)>-1).length>0)}(t.dirtyHandlerIds,r)||e()}finally{s=n}};return this.store.subscribe(n)}subscribeToOffsetChange(e){y("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset,r=()=>{let r=this.store.getState().dragOffset;r!==t&&(t=r,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return y(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);return y(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&I(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);return y(t,`Expected to find a valid source. sourceId=${e}`),!!this.isDragging()&&!!this.isSourcePublic()&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;let{shallow:r}=t;if(!this.isDragging())return!1;let s=this.registry.getTargetType(e),n=this.getItemType();if(n&&!I(s,n))return!1;let i=this.getTargetIds();if(!i.length)return!1;let a=i.indexOf(e);return r?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){let{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:s}=e;return t&&r&&s?k({x:t.x+s.x,y:t.y+s.y},r):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){let{clientOffset:t,initialClientOffset:r}=e;return t&&r?k(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}let _=e.g,L=_.MutationObserver||_.WebKitMutationObserver;function A(e){return function(){let t=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(t),clearInterval(r),e()}}}let H="function"==typeof L?function(e){let t=1,r=new L(e),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=t=-t}}:A;class U{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}let z=new class{enqueueTask(e){let{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=H(this.flush),this.requestErrorThrow=A(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},$=new class{create(e){let t=this.freeTasks,r=t.length?t.pop():new U(this.onError,e=>t[t.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(z.registerPendingError),G="dnd-core/ADD_SOURCE",F="dnd-core/ADD_TARGET",q="dnd-core/REMOVE_SOURCE",V="dnd-core/REMOVE_TARGET";function B(e,t){t&&Array.isArray(e)?e.forEach(e=>B(e,!1)):y("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}(t=r||(r={})).SOURCE="SOURCE",t.TARGET="TARGET";let W=0;function K(e){switch(e[0]){case"S":return r.SOURCE;case"T":return r.TARGET;default:throw Error(`Cannot parse handler ID: ${e}`)}}function X(e,t){let r=e.entries(),s=!1;do{let{done:e,value:[,n]}=r.next();if(n===t)return!0;s=!!e}while(!s)return!1}class Y{addSource(e,t){B(e),y("function"==typeof t.canDrag,"Expected canDrag to be a function."),y("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),y("function"==typeof t.endDrag,"Expected endDrag to be a function.");let s=this.addHandler(r.SOURCE,e,t);return this.store.dispatch({type:G,payload:{sourceId:s}}),s}addTarget(e,t){B(e,!0),y("function"==typeof t.canDrop,"Expected canDrop to be a function."),y("function"==typeof t.hover,"Expected hover to be a function."),y("function"==typeof t.drop,"Expected beginDrag to be a function.");let s=this.addHandler(r.TARGET,e,t);return this.store.dispatch({type:F,payload:{targetId:s}}),s}containsHandler(e){return X(this.dragSources,e)||X(this.dropTargets,e)}getSource(e,t=!1){return y(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return y(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return K(e)===r.SOURCE}isTargetId(e){return K(e)===r.TARGET}removeSource(e){var t;y(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:q,payload:{sourceId:e}}),t=()=>{this.dragSources.delete(e),this.types.delete(e)},z.enqueueTask($.create(t))}removeTarget(e){y(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:V,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let t=this.getSource(e);y(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,s){let n=function(e){let t=(W++).toString();switch(e){case r.SOURCE:return`S${t}`;case r.TARGET:return`T${t}`;default:throw Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(n,t),e===r.SOURCE?this.dragSources.set(n,s):e===r.TARGET&&this.dropTargets.set(n,s),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}let Q={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let Z={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ee(e={},t){var r;return{dirtyHandlerIds:function(e=P,t){let r,s,n;switch(t.type){case S:break;case G:case F:case V:case q:return P;default:return M}let{targetIds:i=[],prevTargetIds:a=[]}=t.payload,o=(r=new Map,s=e=>{r.set(e,r.has(e)?r.get(e)+1:1)},i.forEach(s),a.forEach(s),n=[],r.forEach((e,t)=>{1===e&&n.push(t)}),n);if(!(o.length>0||!function(e,t,r=(e,t)=>e===t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(!r(e[s],t[s]))return!1;return!0}(i,a)))return P;let l=a[a.length-1],d=i[i.length-1];return l!==d&&(l&&o.push(l),d&&o.push(d)),o}(e.dirtyHandlerIds,{type:t.type,payload:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t.payload,{prevTargetIds:(r=[],"dragOperation.targetIds".split(".").reduce((e,t)=>e&&e[t]?e[t]:r||null,e))})}),dragOffset:function(e=Q,t){let{payload:r}=t;switch(t.type){case D:case w:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case S:var s,n;if(s=e.clientOffset,n=r.clientOffset,!s&&!n||s&&n&&s.x===n.x&&s.y===n.y)return e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e,{clientOffset:r.clientOffset});case N:case T:return Q;default:return e}}(e.dragOffset,t),refCount:function(e=0,t){switch(t.type){case G:case F:return e+1;case q:case V:return e-1;default:return e}}(e.refCount,t),dragOperation:function(e=Z,t){let{payload:r}=t;switch(t.type){case w:return J({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case j:return J({},e,{isSourcePublic:!0});case S:return J({},e,{targetIds:r.targetIds});case V:var s,n;if(-1===e.targetIds.indexOf(r.targetId))return e;return J({},e,{targetIds:(s=e.targetIds,n=r.targetId,s.filter(e=>e!==n))});case T:return J({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case N:return J({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}(e.dragOperation,t),stateId:function(e=0){return e+1}(e.stateId)}}let et=(0,n.createContext)({dragDropManager:void 0}),er=0,es=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var en=(0,n.memo)(function(t){var r,{children:i}=t;let[a,o]="manager"in(r=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,["children"]))?[{dragDropManager:r.manager},!1]:[function(t,r=function(){return e.g}(),s,n){return r[es]||(r[es]={dragDropManager:function(e,t,r={},s=!1){var n;let i,a=(n=s,i="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,function e(t,r,s){if("function"==typeof r&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw Error(p(0));if("function"==typeof r&&void 0===s&&(s=r,r=void 0),void 0!==s){if("function"!=typeof s)throw Error(p(1));return s(e)(t,r)}if("function"!=typeof t)throw Error(p(2));var n,i=t,a=r,o=[],l=o,d=!1;function c(){l===o&&(l=o.slice())}function u(){if(d)throw Error(p(3));return a}function g(e){if("function"!=typeof e)throw Error(p(4));if(d)throw Error(p(5));var t=!0;return c(),l.push(e),function(){if(t){if(d)throw Error(p(6));t=!1,c();var r=l.indexOf(e);l.splice(r,1),o=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(p(7));if(void 0===e.type)throw Error(p(8));if(d)throw Error(p(9));try{d=!0,a=i(a,e)}finally{d=!1}for(var t=o=l,r=0;r<t.length;r++)(0,t[r])();return e}return h({type:b.INIT}),(n={dispatch:h,subscribe:g,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw Error(p(10));i=e,h({type:b.REPLACE})}})[m]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(p(11));function t(){e.next&&e.next(u())}return t(),{unsubscribe:g(t)}}})[m]=function(){return this},e},n}(ee,n&&i&&i({name:"dnd-core",instanceId:"dnd-core"}))),o=new R(a,new Y(a)),l=new C(a,o),d=e(l,t,r);return l.receiveBackend(d),l}(t,r,s,n)}),r[es]}(r.backend,r.context,r.options,r.debugMode),!r.context];return(0,n.useEffect)(()=>{if(o){let t=e.g;return++er,()=>{0==--er&&(t[es]=null)}}},[]),(0,s.jsx)(et.Provider,{value:a,children:i})}),ei=e.i(29801);let ea="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function eo(e,t,r){return function(e,t,r){let[s,i]=function(e,t,r){let[s,i]=(0,n.useState)(()=>t(e)),a=(0,n.useCallback)(()=>{let n=t(e);!(0,ei.default)(s,n)&&(i(n),r&&r())},[s,e,r]);return ea(a),[s,a]}(e,t,r);return ea(function(){let t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})},[e,i]),s}(t,e||(()=>({})),()=>r.reconnect())}function el(e,t){let r=[...t||[]];return null==t&&"function"!=typeof e&&r.push(e),(0,n.useMemo)(()=>"function"==typeof e?e():e,r)}function ed(e,t,r,s){let n=r?r.call(s,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;let i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;let o=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<i.length;a++){let l=i[a];if(!o(l))return!1;let d=e[l],c=t[l];if(!1===(n=r?r.call(s,d,c,l):void 0)||void 0===n&&d!==c)return!1}return!0}function ec(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function eu(e){let t={};return Object.keys(e).forEach(r=>{let s=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{let e=(e=null,t=null)=>{var r,i;let a;return(0,n.isValidElement)(e)?(!function(e){if("string"==typeof e.type)return;let t=e.type.displayName||e.type.name||"the component";throw Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(e),r=e,i=t?e=>s(e,t):s,(y("string"!=typeof(a=r.ref),"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),a)?(0,n.cloneElement)(r,{ref:e=>{eg(a,e),eg(i,e)}}):(0,n.cloneElement)(r,{ref:i})):(s(e,t),e)};t[r]=()=>e}}),t}function eg(e,t){"function"==typeof e?e(t):e.current=t}class eh{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e),t}reconnectDragPreview(e=!1){let t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ed(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ed(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=eu({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,ec(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,ec(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function ef(){let{dragDropManager:e}=(0,n.useContext)(et);return y(null!=e,"Expected drag drop context"),e}let ep=!1,em=!1;class ex{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){y(!ep,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ep=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ep=!1}}isDragging(){if(!this.sourceId)return!1;y(!em,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return em=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{em=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class eb{beginDrag(){let e=this.spec,t=this.monitor,r=null;return null!=(r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{})?r:null}canDrag(){let e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){let r=this.spec,s=this.monitor,{isDragging:n}=r;return n?n(s):t===e.getSourceId()}endDrag(){let e=this.spec,t=this.monitor,r=this.connector,{end:s}=e;s&&s(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}class ey{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ed(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=eu({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,ec(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let ev=!1;class eD{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;y(!ev,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ev=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ev=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class ew{canDrop(){let e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){let e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){let e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function ej(e){let t=null;return()=>(null==t&&(t=e()),t)}class eS{enter(e){var t,r;let s,n,i,a=this.entered.length,o=t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e));return this.entered=(t=this.entered.filter(o),r=[e],s=new Set,n=e=>s.add(e),t.forEach(n),r.forEach(n),i=[],s.forEach(e=>i.push(e)),i),0===a&&this.entered.length>0}leave(e){var t;let r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),t.filter(t=>t!==e)),r>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class eT{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(r=>{let s=this.config.exposeProperties[r];null!=s&&(t[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}let eN="__NATIVE_FILE__",eO="__NATIVE_URL__",eE="__NATIVE_TEXT__",eI="__NATIVE_HTML__";function eC(e,t,r){let s=t.reduce((t,r)=>t||e.getData(r),"");return null!=s?s:r}e.s(["FILE",0,eN,"HTML",0,eI,"TEXT",0,eE,"URL",0,eO],10123);let ek={[eN]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[eI]:{exposeProperties:{html:(e,t)=>eC(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[eO]:{exposeProperties:{urls:(e,t)=>eC(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[eE]:{exposeProperties:{text:(e,t)=>eC(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function eP(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(ek).filter(e=>{let r=ek[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}var eM=e.i(10123);let eR=ej(()=>/firefox/i.test(navigator.userAgent)),e_=ej(()=>!!window.safari);class eL{interpolate(e){let t,{xs:r,ys:s,c1s:n,c2s:i,c3s:a}=this,o=r.length-1;if(e===r[o])return s[o];let l=0,d=a.length-1;for(;l<=d;){let n=r[t=Math.floor(.5*(l+d))];if(n<e)l=t+1;else{if(!(n>e))return s[t];d=t-1}}let c=e-r[o=Math.max(0,d)],u=c*c;return s[o]+n[o]*c+i[o]*u+a[o]*c*u}constructor(e,t){let r,s,n;const{length:i}=e,a=[];for(let e=0;e<i;e++)a.push(e);a.sort((t,r)=>e[t]<e[r]?-1:1);const o=[],l=[],d=[];for(let n=0;n<i-1;n++)r=e[n+1]-e[n],s=t[n+1]-t[n],l.push(r),o.push(s),d.push(s/r);const c=[d[0]];for(let e=0;e<l.length-1;e++){const t=d[e],s=d[e+1];if(t*s<=0)c.push(0);else{r=l[e];const n=l[e+1],i=r+n;c.push(3*i/((i+n)/t+(i+r)/s))}}c.push(d[d.length-1]);const u=[],g=[];for(let e=0;e<c.length-1;e++){n=d[e];const t=c[e],r=1/l[e],s=t+c[e+1]-n-n;u.push((n-t-s)*r),g.push(s*r*r)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=g}}function eA(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:r,left:s}=t.getBoundingClientRect();return{x:s,y:r}}function eH(e){return{x:e.clientX,y:e.clientY}}class eU{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null==(e=this.globalContext)?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null==(e=this.optionsArgs)?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function ez(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}class e${profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null==(e=this.dragStartSourceIds)?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null==(t=this.dragOverTargetIds)?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;null==(t=this.window)||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);let s=t=>this.handleDragStart(t,e),n=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",n),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",n),t.setAttribute("draggable","false")}}connectDropTarget(e,t){let r=t=>this.handleDragEnter(t,e),s=t=>this.handleDragOver(t,e),n=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",s),t.addEventListener("drop",n),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",s),t.removeEventListener("drop",n)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return ez({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId();return ez({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(eM).some(t=>eM[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){let r=ek[e];if(!r)throw Error(`native type ${e} has no configuration`);let s=new eT(r);return s.loadDataTransfer(t),s}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null==(e=this.rootElement)?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null==(e=this.window)||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&eA(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>!!(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{let e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;let{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;let r=eH(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});let{dataTransfer:s}=e,n=eP(s);if(this.monitor.isDragging()){if(s&&"function"==typeof s.setDragImage){let e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),n=this.sourcePreviewNodes.get(e)||t;if(n){let{anchorX:e,anchorY:i,offsetX:a,offsetY:o}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,r,s,n){var i;let a,o,l,d="IMG"===t.nodeName&&(eR()||!(null==(i=document.documentElement)?void 0:i.contains(t))),c=eA(d?e:t),u={x:r.x-c.x,y:r.y-c.y},{offsetWidth:g,offsetHeight:h}=e,{anchorX:f,anchorY:p}=s,{dragPreviewWidth:m,dragPreviewHeight:x}=(a=d?t.width:g,o=d?t.height:h,e_()&&d&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}),{offsetX:b,offsetY:y}=n;return{x:0===b||b?b:new eL([0,.5,1],[u.x,u.x/g*m,u.x+m-g]).interpolate(f),y:0===y||y?y:(l=new eL([0,.5,1],[u.y,u.y/h*x,u.y+x-h]).interpolate(p),e_()&&d&&(l+=(window.devicePixelRatio-1)*x),l)}}(t,n,r,{anchorX:e,anchorY:i},{offsetX:a,offsetY:o});s.setDragImage(n,l.x,l.y)}}try{null==s||s.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);let{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(n)this.beginDragNativeItem(n);else{if(s&&!s.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var t;null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;let{dataTransfer:r}=e,s=eP(r);s&&this.beginDragNativeItem(s,r)},this.handleTopDragEnter=e=>{let{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],!this.monitor.isDragging()||(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:eH(e)}),t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var t;null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}},this.handleTopDragOver=e=>{let{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}this.altKeyPressed=e.altKey,this.lastClientOffset=eH(e),this.scheduleHover(t),(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var t;e.preventDefault(),null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}else eP(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{let{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:eH(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{let t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())},this.options=new eU(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new eS(this.isNodeInDocument)}}let eG=function(e,t,r){return new e$(e,t,r)};var eF=e.i(31278),eq=e.i(75254);let eV=(0,eq.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var eB=e.i(7233);let eW=(0,eq.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),eK=(0,eq.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var eX=e.i(13406);let eY=(0,eq.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var eQ=e.i(37727);let eJ=(0,eq.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var eZ=e.i(55436),e0=e.i(95816);function e1({isOpen:e,onClose:t,projectId:r,defaultStatus:i="TODO"}){let[a,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[u,g]=(0,n.useState)(i),[h,f]=(0,n.useState)("MEDIUM"),[p,m]=(0,n.useState)(""),[x,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(""),[D,w]=(0,n.useState)(!1),[j,S]=(0,n.useState)([]),[T,N]=(0,n.useState)(null),[O,{isLoading:E}]=l(),[I,{data:C,isFetching:k}]=(0,e0.useLazySearchUsersQuery)();(0,n.useEffect)(()=>{i&&g(i)},[i,e]),(0,n.useEffect)(()=>{e||(o(""),c(""),f("MEDIUM"),m(""),b(null),N(null),v(""),S([]))},[e]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{y.trim()?I(y):S([])},500);return()=>clearTimeout(e)},[y,I]),(0,n.useEffect)(()=>{C?.data&&S(C.data)},[C]);let P=async e=>{if(e.preventDefault(),a&&r)try{await O({projectId:r,body:{title:a,description:d,status:u,priority:h,due_date:p||null,assigned_to:x}}).unwrap(),t()}catch(e){console.error("Failed to create task:",e)}};return e?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 duration-200 scale-100",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between px-8 py-6 bg-white border-b border-gray-100",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Create New Task"}),(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all",children:(0,s.jsx)(eQ.X,{size:24})})]}),(0,s.jsxs)("form",{onSubmit:P,className:"p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Task Title ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"What needs to be done?",className:"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 placeholder:text-gray-400 font-medium",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),placeholder:"Add more details...",rows:4,className:"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 placeholder:text-gray-400 font-medium resize-none"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium cursor-pointer",children:[(0,s.jsx)("option",{value:"TODO",children:"To Do"}),(0,s.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,s.jsx)("option",{value:"DONE",children:"Completed"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Priority"}),(0,s.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium cursor-pointer",children:[(0,s.jsx)("option",{value:"LOW",children:"Low"}),(0,s.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,s.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Due Date"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(eJ,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,s.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"w-full pl-12 pr-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium"})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Assign To"}),T?(0,s.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 rounded-xl bg-[#e0e7ff] border border-[#5453E8]/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-[#5453E8] font-bold text-xs uppercase border border-[#5453E8]/20",children:T.username?.substring(0,2)||"U"}),(0,s.jsx)("span",{className:"font-bold text-[#4338ca] text-sm",children:T.username})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{N(null),b(null)},className:"text-[#5453E8] hover:text-[#4338ca] transition-colors",children:(0,s.jsx)(eQ.X,{size:16})})]}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(eZ.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>{v(e.target.value),w(!0)},placeholder:"Search user...",className:"w-full pl-12 pr-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium",onFocus:()=>w(!0)}),D&&y&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 max-h-48 overflow-y-auto z-20",children:k?(0,s.jsx)("div",{className:"p-4 flex justify-center text-gray-400",children:(0,s.jsx)(eF.Loader2,{size:20,className:"animate-spin"})}):j.length>0?j.map(e=>(0,s.jsxs)("div",{onClick:()=>{N(e),b(e.id),v(""),w(!1)},className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50 last:border-0",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-xs uppercase",children:e.username?.substring(0,2)||"U"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-snug",children:e.username}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})]},e.id)):(0,s.jsx)("div",{className:"p-4 text-center text-xs text-gray-400 font-medium",children:"No users found"})})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-6 py-3 rounded-xl font-bold text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-all",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:E||!a,className:`px-8 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center gap-2 ${E||!a?"bg-gray-300 cursor-not-allowed shadow-none":"bg-[#5453E8] hover:bg-[#4338ca] shadow-indigo-200"}`,children:[E&&(0,s.jsx)(eF.Loader2,{size:18,className:"animate-spin"}),"Create Task"]})]})]})]})}):null}var e2=e.i(84614);let e5=(0,eq.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),e4=(0,eq.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var e3=e.i(43531);let e8=(0,eq.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var e6=e.i(63209);function e7({isOpen:e,onClose:t,task:r}){let[i,a]=(0,n.useState)(!1),[o,l]=(0,n.useState)(""),[d,g]=(0,n.useState)(""),[h,f]=(0,n.useState)("TODO"),[p,m]=(0,n.useState)("MEDIUM"),[x,b]=(0,n.useState)(""),[y,v]=(0,n.useState)(null),[D,w]=(0,n.useState)(""),[j,S]=(0,n.useState)(!1),[T,N]=(0,n.useState)([]),[O,E]=(0,n.useState)(null),[I,{isLoading:C}]=c(),[k,{isLoading:P}]=u(),[M,{data:R,isFetching:_}]=(0,e0.useLazySearchUsersQuery)();(0,n.useEffect)(()=>{r&&(l(r.title||""),g(r.description||""),f(r.status||"TODO"),m(r.priority||"MEDIUM"),b(r.due_date?new Date(r.due_date).toISOString().split("T")[0]:""),v(r.assigned_to||null))},[r,e]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{D.trim()?M(D):N([])},500);return()=>clearTimeout(e)},[D,M]),(0,n.useEffect)(()=>{R?.data&&N(R.data)},[R]);let L=async e=>{e.preventDefault();try{await I({id:r.id,body:{title:o,description:d,status:h,priority:p,due_date:x||null,assigned_to:y}}).unwrap(),a(!1)}catch(e){console.error("Failed to update task:",e)}},A=async()=>{if(window.confirm("Are you sure you want to delete this task?"))try{await k(r.id).unwrap(),t()}catch(e){console.error("Failed to delete task:",e)}};return e&&r?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),(0,s.jsxs)("div",{className:"relative w-full max-w-md bg-white h-full shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col p-6 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:i?(0,s.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm font-bold text-gray-500 hover:text-gray-900 bg-gray-100 rounded-lg",children:"Cancel Edit"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>a(!0),className:"p-2 text-gray-500 hover:text-[#5453E8] hover:bg-[#e0e7ff] rounded-full transition-all",title:"Edit Task",children:(0,s.jsx)(e4,{size:20})}),(0,s.jsx)("button",{onClick:A,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete Task",children:P?(0,s.jsx)(eF.Loader2,{size:20,className:"animate-spin"}):(0,s.jsx)(e5,{size:20})})]})}),(0,s.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all",children:(0,s.jsx)(eQ.X,{size:24})})]}),i?(0,s.jsxs)("form",{onSubmit:L,className:"space-y-6 flex-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-900"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:d,onChange:e=>g(e.target.value),rows:4,className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900 resize-none"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-700",children:[(0,s.jsx)("option",{value:"TODO",children:"To Do"}),(0,s.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,s.jsx)("option",{value:"DONE",children:"Completed"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Priority"}),(0,s.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-700",children:[(0,s.jsx)("option",{value:"LOW",children:"Low"}),(0,s.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,s.jsx)("option",{value:"HIGH",children:"High"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Due Date"}),(0,s.jsx)("input",{type:"date",value:x,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Assign To"}),O||y?(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 rounded-xl bg-[#e0e7ff] border border-[#5453E8]/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(e2.User,{size:16,className:"text-[#5453E8]"}),(0,s.jsx)("span",{className:"font-bold text-[#4338ca] text-sm",children:O?O.username:`User ID: ${y}`})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{E(null),v(null)},className:"text-[#5453E8] hover:text-[#4338ca]",children:(0,s.jsx)(eQ.X,{size:16})})]}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:D,onChange:e=>{w(e.target.value),S(!0)},placeholder:"Search user...",className:"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900"}),j&&D&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 max-h-48 overflow-y-auto z-20",children:T.length>0?T.map(e=>(0,s.jsx)("div",{onClick:()=>{E(e),v(e.id),w(""),S(!1)},className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50",children:(0,s.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.username})},e.id)):(0,s.jsx)("div",{className:"p-3 text-center text-xs text-gray-400",children:"No users found"})})]})]}),(0,s.jsxs)("button",{type:"submit",disabled:C,className:"w-full py-3 rounded-xl bg-[#5453E8] hover:bg-[#4338ca] text-white font-bold shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2",children:[C?(0,s.jsx)(eF.Loader2,{size:18,className:"animate-spin"}):(0,s.jsx)(e3.Check,{size:18}),"Save Changes"]})]}):(0,s.jsxs)("div",{className:"space-y-8 flex-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900 leading-tight mb-2",children:r.title}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:`px-2 py-1 rounded-md text-xs font-bold ${"TODO"===r.status?"bg-purple-100 text-purple-700":"IN_PROGRESS"===r.status?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:r.status?.replace("_"," ")}),(0,s.jsxs)("span",{className:`px-2 py-1 rounded-md text-xs font-bold ${"HIGH"===r.priority?"bg-red-100 text-red-700":"MEDIUM"===r.priority?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:[r.priority," Priority"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"p-2 rounded-lg bg-gray-50 text-gray-400 mt-1",children:(0,s.jsx)(e6.AlertCircle,{size:18})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Description"}),(0,s.jsx)("p",{className:"text-gray-700 font-medium leading-relaxed",children:r.description||"No description provided."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"p-2 rounded-lg bg-gray-50 text-gray-400",children:(0,s.jsx)(e8,{size:18})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Due Date"}),(0,s.jsx)("p",{className:"text-gray-900 font-bold",children:r.due_date?new Date(r.due_date).toLocaleDateString():"No due date"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"p-2 rounded-lg bg-gray-50 text-gray-400",children:(0,s.jsx)(e2.User,{size:18})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Assigned To"}),(0,s.jsx)("p",{className:"text-gray-900 font-bold",children:r.assigned_to?`User #${r.assigned_to}`:"Unassigned"})]})]})]})]})]})]}):null}let e9=(0,eq.default)("layout-list",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);var te=e.i(95468);let tt=(0,eq.default)("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]),tr=(0,eq.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function ts({projectId:e}){let{data:t,isLoading:r}=(0,a.useGetProjectAnalyticsQuery)(e,{skip:!e});if(r)return(0,s.jsx)("div",{className:"flex py-20 items-center justify-center",children:(0,s.jsx)(eF.Loader2,{size:32,className:"animate-spin text-[#5453E8] opacity-20"})});let n=t?.data;return(0,s.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,s.jsx)("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?.project?.name}),(0,s.jsx)("p",{className:"text-gray-500 max-w-2xl",children:n?.project?.description||"No description provided for this project."})]}),(0,s.jsx)("div",{className:"flex items-center gap-4 text-sm font-bold text-gray-400 uppercase tracking-widest whitespace-nowrap",children:(0,s.jsxs)("span",{className:"px-4 py-2 bg-gray-100/50 rounded-2xl border border-gray-100",children:["Created: ",n?.project?.created_at?new Date(n.project.created_at).toLocaleDateString():"N/A"]})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(tn,{title:"Total Tasks",value:n?.stats?.totalTasks||0,icon:(0,s.jsx)(e9,{className:"text-[#5453E8]",size:24}),color:"bg-indigo-50"}),(0,s.jsx)(tn,{title:"Completed",value:n?.stats?.statusCounts?.DONE||0,icon:(0,s.jsx)(te.CheckCircle2,{className:"text-green-500",size:24}),color:"bg-green-50"}),(0,s.jsx)(tn,{title:"In Progress",value:n?.stats?.statusCounts?.IN_PROGRESS||0,icon:(0,s.jsx)(e8,{className:"text-orange-500",size:24}),color:"bg-orange-50"}),(0,s.jsx)(tn,{title:"To Do",value:n?.stats?.statusCounts?.TODO||0,icon:(0,s.jsx)(e6.AlertCircle,{className:"text-gray-400",size:24}),color:"bg-gray-100"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm hover:shadow-xl hover:shadow-brand-deep/5 transition-all duration-300",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(tt,{size:20,className:"text-[#5453E8]"}),"Project Progress"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,s.jsxs)("span",{className:"text-4xl font-extrabold text-gray-900",children:[n?.stats?.progress||0,"%"]}),(0,s.jsx)("span",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Completion Rate"})]}),(0,s.jsx)("div",{className:"w-full h-4 bg-gray-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-[#5453E8] to-[#807ef1] rounded-full transition-all duration-1000 ease-out",style:{width:`${n?.stats?.progress||0}%`}})})]})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Priority Distribution"}),(0,s.jsx)("div",{className:"space-y-5",children:[{label:"High",count:n?.stats?.priorityCounts?.HIGH||0,color:"bg-red-500",bg:"bg-red-100"},{label:"Medium",count:n?.stats?.priorityCounts?.MEDIUM||0,color:"bg-blue-500",bg:"bg-blue-100"},{label:"Low",count:n?.stats?.priorityCounts?.LOW||0,color:"bg-amber-500",bg:"bg-amber-100"}].map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-bold",children:[(0,s.jsx)("span",{className:"text-gray-600",children:e.label}),(0,s.jsx)("span",{className:"text-gray-900",children:e.count})]}),(0,s.jsx)("div",{className:`w-full h-2 ${e.bg} rounded-full`,children:(0,s.jsx)("div",{className:`h-full ${e.color} rounded-full`,style:{width:n?.stats?.totalTasks>0?`${e.count/n.stats.totalTasks*100}%`:"0%"}})})]},e.label))})]})]}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-sm h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(tr,{size:20,className:"text-[#5453E8]"}),"Recent Activity"]}),(0,s.jsx)("button",{className:"text-xs font-bold text-[#5453E8] hover:underline uppercase tracking-widest",children:"View Logs"})]}),(0,s.jsx)("div",{className:"space-y-6",children:n?.recentActivity?.length>0?n.recentActivity.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4 group",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 border border-indigo-100/50 flex items-center justify-center text-[#5453E8] font-bold text-sm shrink-0",children:e.user?.name?.charAt(0)||"U"}),t!==n.recentActivity.length-1&&(0,s.jsx)("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-px h-10 bg-gray-100"})]}),(0,s.jsxs)("div",{className:"flex-1 pb-6 border-b border-gray-50",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 leading-relaxed",children:[(0,s.jsx)("span",{className:"font-bold text-gray-900",children:e.user?.name})," ",e.action," ",(0,s.jsxs)("span",{className:"font-bold text-[#5453E8]",children:['"',e.task?.title||"Task",'"']})]}),(0,s.jsxs)("p",{className:"text-[11px] font-bold text-gray-400 mt-1 uppercase tracking-wider",children:[new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]},e.id)):(0,s.jsxs)("div",{className:"text-center py-20 text-gray-400",children:[(0,s.jsx)(tr,{size:48,className:"mx-auto mb-4 opacity-10"}),(0,s.jsx)("p",{className:"font-medium",children:"No recent activity found for this project."})]})})]})})]})]})}function tn({title:e,value:t,icon:r,color:n}){return(0,s.jsx)("div",{className:"p-6 rounded-[2rem] border border-gray-100 shadow-sm hover:shadow-xl hover:shadow-brand-deep/5 transition-all duration-500 bg-white group",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`w-14 h-14 rounded-2xl ${n} flex items-center justify-center transition-transform duration-500 group-hover:scale-110`,children:r}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:e}),(0,s.jsx)("h4",{className:"text-2xl font-black text-gray-900 tracking-tight",children:t})]})]})})}let ti="task";function ta(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),r=e?.projectId,{setActiveWorkspaceId:o}=(0,h.useDashboard)(),{data:l,isLoading:c,isError:u}=(0,a.useGetSpecificProjectQuery)(r,{skip:!r}),[g,f]=(0,n.useState)("overview"),[p,m]=(0,n.useState)(!1),[x,b]=(0,n.useState)("TODO"),[y,v]=(0,n.useState)(null),{data:D}=d({projectId:r},{skip:!r});if((0,n.useEffect)(()=>{l?.data?.workspaceId&&o(l.data.workspaceId)},[l,o]),c)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-[#fafafa]",children:(0,s.jsx)(eF.Loader2,{size:40,className:"animate-spin text-[#5453E8]"})});if(u||!l?.data)return(0,s.jsxs)("div",{className:"flex h-screen items-center justify-center bg-[#fafafa] flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Project not found or error loading project."}),(0,s.jsx)("button",{onClick:()=>t.push("/dashboard"),className:"text-[#5453E8] font-bold hover:underline",children:"Go back to Dashboard"})]});let w=l.data,j=D?.data||[],S={todo:j.filter(e=>"TODO"===e.status),inProgress:j.filter(e=>"IN_PROGRESS"===e.status),completed:j.filter(e=>"DONE"===e.status)},T=e=>{switch(e?.toUpperCase()||""){case"HIGH":return"bg-[#fee2e2] text-[#b91c1c]";case"MEDIUM":case"MEH":return"bg-[#e0f2fe] text-[#0369a1]";case"LOW":case"OK":return"bg-[#fef3c7] text-[#b45309]";case"IMPORTANT":return"bg-[#e0e7ff] text-[#4338ca]";default:return"bg-gray-100 text-gray-700"}};return(0,s.jsx)(en,{backend:eG,children:(0,s.jsxs)("div",{className:"p-6 lg:p-10 font-sans max-w-[1600px] mx-auto",children:[(0,s.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-8",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 font-medium",children:[(0,s.jsx)("button",{onClick:()=>t.push("/dashboard"),className:"hover:text-[#5453E8] transition-colors",children:(0,s.jsx)(eK,{size:16})}),(0,s.jsx)(eX.ChevronRight,{size:16,strokeWidth:1.5}),(0,s.jsx)("span",{children:"Projects"}),(0,s.jsx)(eX.ChevronRight,{size:16,strokeWidth:1.5}),(0,s.jsx)("span",{className:"text-gray-900",children:w.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-extrabold text-gray-900 tracking-tight",children:w.name}),(0,s.jsx)("span",{className:"px-3 py-1 bg-[#e0e7ff] text-[#5453E8] text-xs font-bold rounded-full",children:"Label"})]})]})}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-between border-b border-gray-100 mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-6 lg:gap-8 w-full sm:w-auto overflow-x-auto no-scrollbar",children:[(0,s.jsxs)("button",{onClick:()=>f("overview"),className:`flex items-center gap-2 py-4 text-sm font-bold border-b-2 transition-all whitespace-nowrap ${"overview"===g?"border-[#5453E8] text-[#5453E8]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[(0,s.jsx)(eY,{size:18})," Overview"]}),(0,s.jsxs)("button",{onClick:()=>f("board"),className:`flex items-center gap-2 py-4 text-sm font-bold border-b-2 transition-all whitespace-nowrap ${"board"===g?"border-[#5453E8] text-[#5453E8]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[(0,s.jsx)(eV,{size:18})," Grid View"]})]})}),"overview"===g?(0,s.jsx)(ts,{projectId:r}):"board"===g?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8",children:[(0,s.jsx)(tl,{title:"To Do",status:"TODO",count:S.todo.length,color:"purple",tasks:S.todo,getPriorityStyles:T,onAddTask:()=>{b("TODO"),m(!0)},onTaskClick:e=>v(e)}),(0,s.jsx)(tl,{title:"In Progress",status:"IN_PROGRESS",count:S.inProgress.length,color:"orange",tasks:S.inProgress,getPriorityStyles:T,onAddTask:()=>{b("IN_PROGRESS"),m(!0)},onTaskClick:e=>v(e)}),(0,s.jsx)(tl,{title:"Completed",status:"DONE",count:S.completed.length,color:"green",tasks:S.completed,getPriorityStyles:T,onAddTask:()=>{b("DONE"),m(!0)},onTaskClick:e=>v(e)})]}):(0,s.jsx)("div",{className:"bg-white rounded-3xl p-10 border border-gray-100 text-center text-gray-500",children:(0,s.jsx)("p",{children:"View is under construction. Please switch to Board or Overview."})}),(0,s.jsx)(e1,{isOpen:p,onClose:()=>m(!1),projectId:r,defaultStatus:x}),(0,s.jsx)(e7,{isOpen:!!y,onClose:()=>v(null),task:y})]})})}function to({task:e,getPriorityStyles:t,onTaskClick:r}){var i,a;let o,l,d,c,u,g,h,f,p,m,[{isDragging:x},b]=(y(!(o=el(()=>({type:ti,item:{id:e.id},collect:e=>({isDragging:!!e.isDragging()})}),void 0)).begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)"),l=ef(),d=(0,n.useMemo)(()=>new ex(l),[l]),i=o.options,a=o.previewOptions,c=ef(),ea(()=>(u.dragSourceOptions=i||null,u.reconnect(),()=>u.disconnectDragSource()),[u=(0,n.useMemo)(()=>new eh(c.getBackend()),[c]),i]),ea(()=>(u.dragPreviewOptions=a||null,u.reconnect(),()=>u.disconnectDragPreview()),[u,a]),g=u,h=ef(),f=(0,n.useMemo)(()=>new eb(o,d,g),[d,g]),(0,n.useEffect)(()=>{f.spec=o},[o]),ea(function(){if(null!=m){let e,t,[r,s]=[t=(e=h.getRegistry()).addSource(m,p),()=>e.removeSource(t)];return d.receiveHandlerId(r),g.receiveHandlerId(r),s}},[h,d,g,p=f,m=(0,n.useMemo)(()=>{let e=o.type;return y(null!=e,"spec.type must be defined"),e},[o])]),[eo(o.collect,d,g),(0,n.useMemo)(()=>g.hooks.dragSource(),[g]),(0,n.useMemo)(()=>g.hooks.dragPreview(),[g])]);return(0,s.jsxs)("div",{ref:b,onClick:()=>r(e),className:`bg-white p-5 rounded-[20px] shadow-[0_4px_20px_rgba(0,0,0,0.03)] border border-gray-100/50 hover:shadow-[0_8px_30px_rgba(0,0,0,0.06)] hover:translate-y-[-2px] transition-all cursor-pointer group ${x?"opacity-50":"opacity-100"}`,children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("span",{className:`inline-block px-3 py-1 rounded-lg text-[11px] font-bold tracking-wide ${t(e.priority)}`,children:e.priority})}),(0,s.jsx)("h4",{className:"text-[15px] leading-snug font-bold text-gray-900 mb-6 group-hover:text-[#5453E8] transition-colors",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex -space-x-2",children:[1,2].map(t=>(0,s.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 overflow-hidden",children:(0,s.jsx)("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.id+t}`,alt:"user",className:"w-full h-full"})},t))}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-400",children:[(0,s.jsx)(eW,{size:16,fill:"currentColor",className:"text-gray-300"}),(0,s.jsx)("span",{className:"text-xs font-bold text-gray-500",children:e.comments||7*e.id%5+1})]})]})]})}function tl({title:e,count:t,color:r,tasks:i,getPriorityStyles:a,onAddTask:o,onTaskClick:l,status:d}){var c;let u,h,f,p,m,x,b,v,D,w,j={purple:{dot:"bg-[#5453E8]",btn:"bg-[#5453E8] hover:bg-[#4338ca]",btnShadow:"shadow-indigo-200",total:"bg-gray-100 text-gray-500"},orange:{dot:"bg-[#f59e0b]",btn:"bg-[#f59e0b] hover:bg-[#d97706]",btnShadow:"shadow-amber-200",total:"bg-gray-100 text-gray-500"},green:{dot:"bg-[#22c55e]",btn:"bg-[#22c55e] hover:bg-[#16a34a]",btnShadow:"shadow-green-200",total:"bg-gray-100 text-gray-500"}}[r],[S]=g(),[{isOver:T},N]=(u=el(()=>({accept:ti,drop:e=>{S({id:e.id,body:{status:d}})},collect:e=>({isOver:!!e.isOver()})}),void 0),h=ef(),f=(0,n.useMemo)(()=>new eD(h),[h]),c=u.options,p=ef(),m=(0,n.useMemo)(()=>new ey(p.getBackend()),[p]),ea(()=>(m.dropTargetOptions=c||null,m.reconnect(),()=>m.disconnectDropTarget()),[c]),x=m,b=ef(),v=(0,n.useMemo)(()=>new ew(u,f),[f]),(0,n.useEffect)(()=>{v.spec=u},[u]),ea(function(){let e,t,[r,s]=[t=(e=b.getRegistry()).addTarget(w,D),()=>e.removeTarget(t)];return f.receiveHandlerId(r),x.receiveHandlerId(r),s},[b,f,D=v,x,(w=function(e){let{accept:t}=e;return(0,n.useMemo)(()=>(y(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}(u)).map(e=>e.toString()).join("|")]),[eo(u.collect,f,x),(0,n.useMemo)(()=>x.hooks.dropTarget(),[x])]);return(0,s.jsxs)("div",{ref:N,className:`flex flex-col h-full rounded-3xl transition-colors ${T?"bg-gray-50/80 ring-2 ring-[#5453E8]/20":""}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-5 px-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${j.dot}`}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 tracking-tight",children:e})]}),(0,s.jsxs)("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${j.total}`,children:[t," Total"]})]}),(0,s.jsxs)("button",{onClick:o,className:`w-full py-3.5 mb-6 rounded-2xl text-white font-bold flex items-center justify-center gap-2 transition-all shadow-lg ${j.btn} ${j.btnShadow}`,children:[(0,s.jsx)(eB.Plus,{size:20})," Add New Task"]}),(0,s.jsx)("div",{className:"space-y-5",children:i.map(e=>(0,s.jsx)(to,{task:e,getPriorityStyles:a,onTaskClick:l},e.id))})]})}e.s(["default",()=>ta],66640)}]);