module.exports=[3915,a=>{"use strict";var b=a.i(87924),c=a.i(47077),d=a.i(72131),e=a.i(70106);let f=(0,e.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),g=(0,e.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),h=(0,e.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var i=a.i(15618),j=a.i(33508),k=a.i(41473),l=a.i(96221),m=a.i(50944),n=a.i(71987);let o=({activeTab:a,setActiveTab:c,isOpen:e,onClose:g,workspaceId:k,activeProjectId:l})=>{(0,m.useRouter)();let[o,r]=d.default.useState(null);return d.default.useEffect(()=>{let a=localStorage.getItem("user");if(a)try{r(JSON.parse(a))}catch(a){console.error("Failed to parse user from local storage")}},[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:`fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:g}),(0,b.jsxs)("aside",{className:`
                fixed inset-y-0 left-0 z-50 w-64 bg-[#2e061f] text-white flex flex-col transition-transform duration-300 transform 
                ${e?"translate-x-0":"-translate-x-full"} 
                lg:relative lg:translate-x-0 lg:w-60 shrink-0
            `,children:[(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-white/10",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(n.default,{src:"/logo.svg",alt:"Logo",width:150,height:150})}),(0,b.jsx)("button",{onClick:g,className:"lg:hidden p-1 hover:bg-white/10 rounded-lg transition-colors",children:(0,b.jsx)(j.X,{size:20})})]}),(0,b.jsxs)("nav",{className:"flex-1 overflow-y-auto p-3 space-y-1 custom-scrollbar",children:[(0,b.jsx)(p,{icon:(0,b.jsx)(f,{size:18}),label:"Home",active:"home"===a,onClick:()=>{c("home"),g()}}),(0,b.jsxs)("div",{className:"mt-8 mb-2 cursor-pointer px-3 text-[11px] font-bold text-white/40 uppercase tracking-widest flex items-center justify-between group",children:["Projects",(0,b.jsx)("button",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-all",children:(0,b.jsx)(i.Plus,{size:14})})]}),(0,b.jsx)(q,{workspaceId:k,activeProjectId:l}),(0,b.jsxs)("button",{className:"flex cursor-pointer items-center gap-3 px-3 py-2 text-sm text-white/60 hover:text-white transition-colors w-full group mt-4",children:[(0,b.jsx)(h,{size:18,className:"group-hover:text-brand-pink transition-colors"}),(0,b.jsx)("span",{children:"Create Project"})]})]})]})]})};function p({icon:a,label:c,active:d=!1,onClick:e}){return(0,b.jsxs)("button",{onClick:e,className:`flex items-center gap-3 w-full px-3 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 group ${d?"bg-white/10 text-white shadow-lg ring-1 ring-white/10":"text-white/40 hover:bg-white/5 hover:text-white"}`,children:[(0,b.jsx)("span",{className:`${d?"text-brand-pink":"group-hover:text-brand-pink transition-colors"}`,children:a}),(0,b.jsx)("span",{children:c}),d&&(0,b.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-brand-pink shadow-[0_0_8px_rgba(255,51,102,0.8)]"})]})}function q({workspaceId:a,activeProjectId:c}){let d=(0,m.useRouter)(),{data:e,isLoading:f}=(0,k.useGetWorkspaceProjectsQuery)(a,{skip:!a});return f?(0,b.jsx)("div",{className:"flex justify-center py-4",children:(0,b.jsx)(l.Loader2,{size:16,className:"animate-spin text-white/40"})}):a?e?.data&&0!==e.data.length?(0,b.jsx)("div",{className:"space-y-0.5",children:e.data.map(a=>(0,b.jsx)(p,{icon:(0,b.jsx)(g,{size:18,className:"text-white/60 cursor-pointer group-hover:text-brand-pink transition-colors"}),label:a.name,active:c===a.id,onClick:()=>d.push(`/dashboard/project/${a.id}`)},a.id))}):(0,b.jsx)("div",{className:"px-3 py-2 text-xs text-white/40 italic",children:"No projects found"}):(0,b.jsx)("div",{className:"px-3 py-2 text-xs text-white/40 italic",children:"Select a workspace"})}let r=(0,e.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var s=a.i(72692);let t=(0,e.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var u=a.i(33441);let v=({selectedWorkspace:a,selectedWorkspaceId:c,workspaces:e,onWorkspaceSelect:f,onMenuClick:g,onCreateWorkspaceClick:h,user:j})=>{let[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)(!1),o=(0,d.useRef)(null),p=(0,d.useRef)(null);(0,d.useEffect)(()=>{let a=a=>{o.current&&!o.current.contains(a.target)&&l(!1),p.current&&!p.current.contains(a.target)&&n(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let q=a=>{if(!a)return"";let b=a.split(" ");return b.length>=2?(b[0][0]+b[1][0]).toUpperCase():a.slice(0,2).toUpperCase()};return(0,b.jsxs)("header",{className:"h-14 border-b border-gray-100 flex items-center justify-between px-4 lg:px-6 bg-white shrink-0 z-20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 lg:gap-4",children:[(0,b.jsx)("button",{onClick:g,className:"lg:hidden p-2 hover:bg-gray-50 rounded-lg transition-colors text-gray-500",children:(0,b.jsx)(s.Menu,{size:20})}),(0,b.jsxs)("div",{className:"relative",ref:p,children:[(0,b.jsxs)("button",{onClick:()=>n(!m),className:"flex items-center gap-2 group cursor-pointer hover:bg-gray-50 px-2 py-1 rounded-md transition-colors",children:[(0,b.jsx)("h2",{className:"font-bold text-sm lg:text-base text-gray-900 truncate max-w-[120px] lg:max-w-none",children:a||"Select Workspace"}),(0,b.jsx)("div",{className:`w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-transform duration-200 ${m?"rotate-180":""}`,children:(0,b.jsx)(t,{size:16})})]}),m&&(0,b.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-gray-100 py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:[(0,b.jsx)("div",{className:"px-3 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider border-b border-gray-50 mb-1",children:"Your Workspaces"}),(0,b.jsx)("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:e?.map(a=>(0,b.jsxs)("button",{onClick:()=>{f(a.id,a.name),n(!1)},className:"w-full flex items-center justify-between px-4 py-2 hover:bg-gray-50 text-left group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded bg-brand-deep/10 text-brand-deep flex items-center justify-center text-[10px] font-bold",children:a.name.charAt(0).toUpperCase()}),(0,b.jsx)("span",{className:`text-sm font-medium ${c===a.id?"text-brand-deep":"text-gray-700"}`,children:a.name})]}),c===a.id&&(0,b.jsx)(u.Check,{size:14,className:"text-brand-deep"})]},a.id))}),(0,b.jsx)("div",{className:"p-2 border-t border-gray-50 mt-1",children:(0,b.jsxs)("button",{onClick:()=>{h(),n(!1)},className:"w-full flex items-center justify-center gap-2 py-2 text-xs font-bold text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,b.jsx)(i.Plus,{size:14})," Create New"]})})]})]}),(0,b.jsx)("div",{className:"hidden sm:block h-6 w-[1px] bg-gray-100 mx-1 lg:mx-2"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 lg:gap-5",children:(0,b.jsx)("div",{className:"flex items-center gap-2 lg:gap-3",children:(0,b.jsxs)("div",{className:"relative",ref:o,children:[(0,b.jsx)("button",{onClick:()=>l(!k),className:"w-8 h-8 cursor-pointer rounded-full bg-brand-pink text-brand-deep flex items-center justify-center font-bold text-xs ring-2 ring-white hover:ring-brand-deep/10 transition-all shadow-md",children:j?q(j.name):"U"}),k&&(0,b.jsxs)("div",{className:"absolute right-0 mt-3 w-72 bg-[#1e1f21] rounded-2xl shadow-2xl border border-white/5 py-2 z-50 animate-in fade-in zoom-in-95 duration-200",children:[(0,b.jsxs)("div",{className:"px-6 py-4 flex flex-col items-center border-b border-white/5",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-[#bf95f9] text-[#2c1a4d] flex items-center justify-center text-xl font-bold mb-3 shadow-inner",children:j?q(j.name):"U"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-0.5",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:"My Account"}),(0,b.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:j?.email||"user@example.com"})]})]}),(0,b.jsx)("div",{className:"py-2 cursor-pointer",children:(0,b.jsx)("button",{onClick:()=>{h(),l(!1)},className:"w-full",children:(0,b.jsx)(w,{icon:(0,b.jsx)(i.Plus,{size:18}),label:"New workspace"})})}),(0,b.jsx)("div",{className:"h-[1px] bg-white/5 mx-2"}),(0,b.jsx)("div",{className:"py-2",children:(0,b.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth/login"},className:"w-full flex items-center gap-3 px-6 py-2.5 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition-all text-left cursor-pointer",children:[(0,b.jsx)(r,{size:18}),(0,b.jsx)("span",{className:"font-semibold cursor-pointer",children:"Log out"})]})})]})]})})})]})};function w({icon:a,label:c}){return(0,b.jsxs)("div",{className:"w-full flex items-center gap-3 px-6 py-2.5 text-sm text-gray-300 hover:bg-white/5 hover:text-white transition-all text-left group",children:[(0,b.jsx)("span",{className:"text-gray-400 group-hover:text-white transition-colors",children:a}),(0,b.jsx)("span",{className:"font-semibold",children:c})]})}var x=a.i(41961),y=a.i(60246),z=a.i(32860);let A=(0,e.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),B=(0,e.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var C=a.i(43108),D=a.i(7078),E=a.i(8017);let F=({isOpen:a,onClose:c})=>{let[e,{isLoading:f}]=(0,E.useCreateWorkspaceMutation)(),[g,h]=(0,d.useState)(""),[i,k]=(0,d.useState)("");if(!a)return null;let m=async a=>{if(a.preventDefault(),k(""),!g.trim())return void k("Workspace name is required");try{(await e({name:g}).unwrap()).status&&c(),h("")}catch(a){k(a.data?.msg||"Failed to create workspace. Please try again.")}};return(0,b.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-[#1e1f21]/80 backdrop-blur-sm animate-in fade-in duration-300",onClick:c}),(0,b.jsxs)("div",{className:"relative bg-white w-full max-w-xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-8 duration-500",children:[(0,b.jsx)("div",{className:"absolute top-6 right-8",children:(0,b.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:(0,b.jsx)(j.X,{size:24})})}),(0,b.jsxs)("div",{className:"p-8 sm:p-12",children:[(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-brand-deep/5 rounded-2xl flex items-center justify-center mb-6 text-brand-deep",children:(0,b.jsx)(A,{size:32})}),(0,b.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight mb-3",children:"Create your workspace"}),(0,b.jsx)("p",{className:"text-gray-500 text-lg",children:"Workspaces are shared places where teams can work on projects and tasks."})]}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-gray-700 ml-1",children:"Workspace Name"}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(x.Briefcase,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-brand-deep w-5 h-5 transition-colors"}),(0,b.jsx)("input",{type:"text",required:!0,placeholder:"e.g. Marketing Team or Acme Corp",className:"w-full pl-14 pr-6 py-5 bg-gray-50 border border-transparent rounded-[1.5rem] focus:bg-white focus:ring-4 focus:ring-brand-deep/5 focus:border-brand-deep outline-none transition-all text-lg",value:g,onChange:a=>h(a.target.value),autoFocus:!0})]}),i&&(0,b.jsx)("p",{className:"text-red-500 text-sm font-medium ml-1",children:i})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2",children:[(0,b.jsxs)("div",{className:"p-5 rounded-2xl border border-gray-100 bg-gray-50/50 flex flex-col gap-3",children:[(0,b.jsx)("div",{className:"p-2 w-fit bg-white rounded-lg shadow-sm",children:(0,b.jsx)(B,{size:18,className:"text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:"Public"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Anyone in your organization can join."})]})]}),(0,b.jsxs)("div",{className:"p-5 rounded-2xl border border-brand-deep/10 bg-brand-deep/[0.02] flex flex-col gap-3 ring-2 ring-brand-deep/5",children:[(0,b.jsx)("div",{className:"p-2 w-fit bg-brand-deep text-white rounded-lg shadow-sm",children:(0,b.jsx)(C.Lock,{size:18})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-sm",children:"Private"}),(0,b.jsx)("p",{className:"text-xs text-brand-deep/60",children:"Only people you invite can join."})]})]})]}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)(D.Button,{type:"submit",className:"w-full py-5 text-lg font-bold group shadow-xl shadow-brand-deep/10",disabled:f,children:f?(0,b.jsx)(l.Loader2,{className:"w-6 h-6 animate-spin"}):(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:["Create Workspace",(0,b.jsx)(z.ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-50 flex items-center gap-3 text-gray-400",children:[(0,b.jsx)(y.Users,{size:18}),(0,b.jsx)("p",{className:"text-xs font-medium",children:"You can invite team members after creating the workspace."})]})]})]})]})};function G({children:a}){let{activeWorkspaceId:e,setActiveWorkspaceId:f,selectedWorkspaceName:g,workspaces:h,isSidebarOpen:i,setIsSidebarOpen:j,user:k,openCreateWorkspaceModal:l,isCreateWorkspaceModalOpen:n,setIsCreateWorkspaceModalOpen:p,isLoading:q}=(0,c.useDashboard)(),r=(0,m.useRouter)(),s=(0,m.usePathname)(),t=(0,m.useParams)(),u=t?.projectId,[w,x]=(0,d.useState)("home");return((0,d.useEffect)(()=>{"/dashboard"===s?x("home"):x("")},[s]),q&&(!h||0===h.length))?(0,b.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-white",children:(0,b.jsx)("div",{className:"relative h-32 w-32 animate-pulse",children:(0,b.jsx)("img",{src:"/logo.svg",alt:"Loading...",className:"object-contain h-full w-full"})})}):(0,b.jsxs)("div",{className:"flex h-screen bg-white overflow-hidden text-gray-800 font-sans",children:[(0,b.jsx)(o,{activeTab:w,setActiveTab:a=>{x(a),"home"===a&&r.push("/dashboard")},isOpen:i,onClose:()=>j(!1),workspaceId:e,activeProjectId:u}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(v,{selectedWorkspace:g,selectedWorkspaceId:e,workspaces:h,onWorkspaceSelect:(a,b)=>{f(a),r.push("/dashboard")},onMenuClick:()=>j(!0),onCreateWorkspaceClick:l,user:k}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto bg-[#fafafa] custom-scrollbar",children:a})]}),(0,b.jsx)(F,{isOpen:n,onClose:()=>p(!1)})]})}function H({children:a}){return(0,b.jsx)(c.DashboardProvider,{children:(0,b.jsx)(G,{children:a})})}a.s(["default",()=>H],3915)}];

//# sourceMappingURL=src_app_dashboard_layout_tsx_68104039._.js.map