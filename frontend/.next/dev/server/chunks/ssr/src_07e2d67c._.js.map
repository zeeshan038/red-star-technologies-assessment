{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bestbuy/Desktop/redstar-assesment/frontend/src/features/task/taskApi.ts"],"sourcesContent":["import { task_url } from \"@/lib/config\";\nimport { apiSlice } from \"../api/apiSlice\";\n\nexport const taskApi = apiSlice.injectEndpoints({\n    endpoints: (builder) => ({\n        createTask: builder.mutation({\n            query: ({ projectId, body }) => ({\n                url: `${task_url}/create/${projectId}`,\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: [\"Task\"],\n        }),\n        getAllTask: builder.query({\n            query: ({ projectId, status, assigned_to }) => {\n                const params = new URLSearchParams();\n                if (projectId) params.append(\"projectId\", projectId);\n                if (status) params.append(\"status\", status);\n                if (assigned_to) params.append(\"assigned_to\", assigned_to);\n\n                return {\n                    url: `${task_url}/all?${params.toString()}`,\n                    method: \"GET\",\n                };\n            },\n            providesTags: [\"Task\"],\n        }),\n        updateTask: builder.mutation({\n            query: ({ id, body }) => ({\n                url: `${task_url}/${id}`,\n                method: \"PATCH\",\n                body,\n            }),\n            invalidatesTags: [\"Task\"],\n        }),\n        deleteTask: builder.mutation({\n            query: (id) => ({\n                url: `${task_url}/${id}`,\n                method: \"DELETE\",\n            }),\n            invalidatesTags: [\"Task\"],\n        }),\n        changeStatus: builder.mutation({\n            query: ({ id, body }) => ({\n                url: `${task_url}/${id}`,\n                method: \"PATCH\",\n                body,\n            }),\n            invalidatesTags: [\"Task\"],\n        }),\n        toggleTaskStatus: builder.mutation({\n            query: ({ id, body }) => ({\n                url: `${task_url}/status/${id}`,\n                method: \"PATCH\",\n                body,\n            }),\n            invalidatesTags: [\"Task\"],\n        }),\n    }),\n});\n\n\nexport const { useCreateTaskMutation, useGetAllTaskQuery, useUpdateTaskMutation, useDeleteTaskMutation, useToggleTaskStatusMutation } = taskApi;"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU,8IAAQ,CAAC,eAAe,CAAC;IAC5C,WAAW,CAAC,UAAY,CAAC;YACrB,YAAY,QAAQ,QAAQ,CAAC;gBACzB,OAAO,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAK,CAAC;wBAC7B,KAAK,GAAG,gIAAQ,CAAC,QAAQ,EAAE,WAAW;wBACtC,QAAQ;wBACR;oBACJ,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC7B;YACA,YAAY,QAAQ,KAAK,CAAC;gBACtB,OAAO,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,WAAW,EAAE;oBACtC,MAAM,SAAS,IAAI;oBACnB,IAAI,WAAW,OAAO,MAAM,CAAC,aAAa;oBAC1C,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;oBACpC,IAAI,aAAa,OAAO,MAAM,CAAC,eAAe;oBAE9C,OAAO;wBACH,KAAK,GAAG,gIAAQ,CAAC,KAAK,EAAE,OAAO,QAAQ,IAAI;wBAC3C,QAAQ;oBACZ;gBACJ;gBACA,cAAc;oBAAC;iBAAO;YAC1B;YACA,YAAY,QAAQ,QAAQ,CAAC;gBACzB,OAAO,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,GAAK,CAAC;wBACtB,KAAK,GAAG,gIAAQ,CAAC,CAAC,EAAE,IAAI;wBACxB,QAAQ;wBACR;oBACJ,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC7B;YACA,YAAY,QAAQ,QAAQ,CAAC;gBACzB,OAAO,CAAC,KAAO,CAAC;wBACZ,KAAK,GAAG,gIAAQ,CAAC,CAAC,EAAE,IAAI;wBACxB,QAAQ;oBACZ,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC7B;YACA,cAAc,QAAQ,QAAQ,CAAC;gBAC3B,OAAO,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,GAAK,CAAC;wBACtB,KAAK,GAAG,gIAAQ,CAAC,CAAC,EAAE,IAAI;wBACxB,QAAQ;wBACR;oBACJ,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC7B;YACA,kBAAkB,QAAQ,QAAQ,CAAC;gBAC/B,OAAO,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,GAAK,CAAC;wBACtB,KAAK,GAAG,gIAAQ,CAAC,QAAQ,EAAE,IAAI;wBAC/B,QAAQ;wBACR;oBACJ,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC7B;QACJ,CAAC;AACL;AAGO,MAAM,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,qBAAqB,EAAE,2BAA2B,EAAE,GAAG"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///Users/bestbuy/Desktop/redstar-assesment/frontend/src/features/auth/authApi.ts"],"sourcesContent":["import { user_url } from \"@/lib/config\";\nimport { apiSlice } from \"../api/apiSlice\";\n\nexport const authApi = apiSlice.injectEndpoints({\n    endpoints: (builder) => ({\n        login: builder.mutation({\n            query: (body) => ({\n                url: `${user_url}/login`,\n                method: \"POST\",\n                body,\n            }),\n        }),\n        register: builder.mutation({\n            query: (body) => ({\n                url: `${user_url}/register`,\n                method: \"POST\",\n                body\n            }),\n        }),\n        searchUsers: builder.query({\n            query: (query) => ({\n                url: `${user_url}/search?query=${query}`,\n                method: \"GET\",\n            }),\n        }),\n    }),\n});\n\nexport const { useLoginMutation, useRegisterMutation, useLazySearchUsersQuery } = authApi;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU,8IAAQ,CAAC,eAAe,CAAC;IAC5C,WAAW,CAAC,UAAY,CAAC;YACrB,OAAO,QAAQ,QAAQ,CAAC;gBACpB,OAAO,CAAC,OAAS,CAAC;wBACd,KAAK,GAAG,gIAAQ,CAAC,MAAM,CAAC;wBACxB,QAAQ;wBACR;oBACJ,CAAC;YACL;YACA,UAAU,QAAQ,QAAQ,CAAC;gBACvB,OAAO,CAAC,OAAS,CAAC;wBACd,KAAK,GAAG,gIAAQ,CAAC,SAAS,CAAC;wBAC3B,QAAQ;wBACR;oBACJ,CAAC;YACL;YACA,aAAa,QAAQ,KAAK,CAAC;gBACvB,OAAO,CAAC,QAAU,CAAC;wBACf,KAAK,GAAG,gIAAQ,CAAC,cAAc,EAAE,OAAO;wBACxC,QAAQ;oBACZ,CAAC;YACL;QACJ,CAAC;AACL;AAEO,MAAM,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,uBAAuB,EAAE,GAAG"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/bestbuy/Desktop/redstar-assesment/frontend/src/components/dashboard/CreateTaskModal.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { X, Loader2, Calendar, User, Search, Check } from \"lucide-react\";\nimport { useCreateTaskMutation } from \"@/features/task/taskApi\";\nimport { useLazySearchUsersQuery } from \"@/features/auth/authApi\";\n\ninterface CreateTaskModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    projectId: string;\n    defaultStatus?: \"TODO\" | \"IN_PROGRESS\" | \"DONE\";\n}\n\nexport default function CreateTaskModal({ isOpen, onClose, projectId, defaultStatus = \"TODO\" }: CreateTaskModalProps) {\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [status, setStatus] = useState(defaultStatus);\n    const [priority, setPriority] = useState(\"MEDIUM\");\n    const [dueDate, setDueDate] = useState(\"\");\n    const [assignedTo, setAssignedTo] = useState<number | null>(null);\n\n    // User Search State\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [isSearching, setIsSearching] = useState(false);\n    const [searchResults, setSearchResults] = useState<any[]>([]);\n    const [selectedUser, setSelectedUser] = useState<any>(null);\n\n    const [createTask, { isLoading: isCreating }] = useCreateTaskMutation();\n    const [searchUsers, { data: usersData, isFetching: isUserFetching }] = useLazySearchUsersQuery();\n\n    useEffect(() => {\n        if (defaultStatus) {\n            setStatus(defaultStatus);\n        }\n    }, [defaultStatus, isOpen]);\n\n    // Cleanup when closed\n    useEffect(() => {\n        if (!isOpen) {\n            setTitle(\"\");\n            setDescription(\"\");\n            setPriority(\"MEDIUM\");\n            setDueDate(\"\");\n            setAssignedTo(null);\n            setSelectedUser(null);\n            setSearchQuery(\"\");\n            setSearchResults([]);\n        }\n    }, [isOpen]);\n\n    // Handle Search\n    useEffect(() => {\n        const timeoutId = setTimeout(() => {\n            if (searchQuery.trim()) {\n                searchUsers(searchQuery);\n            } else {\n                setSearchResults([]);\n            }\n        }, 500);\n\n        return () => clearTimeout(timeoutId);\n    }, [searchQuery, searchUsers]);\n\n    useEffect(() => {\n        if (usersData?.data) {\n            setSearchResults(usersData.data);\n        }\n    }, [usersData]);\n\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!title || !projectId) return;\n\n        try {\n            await createTask({\n                projectId,\n                body: {\n                    title,\n                    description,\n                    status,\n                    priority,\n                    due_date: dueDate || null,\n                    assigned_to: assignedTo\n                }\n            }).unwrap();\n            onClose();\n        } catch (error) {\n            console.error(\"Failed to create task:\", error);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200\">\n            <div className=\"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 duration-200 scale-100\">\n                <div className=\"sticky top-0 z-10 flex items-center justify-between px-8 py-6 bg-white border-b border-gray-100\">\n                    <h2 className=\"text-2xl font-bold text-gray-900 tracking-tight\">Create New Task</h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all\"\n                    >\n                        <X size={24} />\n                    </button>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"p-8 space-y-8\">\n                    {/* Title & Description */}\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">\n                                Task Title <span className=\"text-red-500\">*</span>\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={title}\n                                onChange={(e) => setTitle(e.target.value)}\n                                placeholder=\"What needs to be done?\"\n                                className=\"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 placeholder:text-gray-400 font-medium\"\n                                required\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Description</label>\n                            <textarea\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                placeholder=\"Add more details...\"\n                                rows={4}\n                                className=\"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 placeholder:text-gray-400 font-medium resize-none\"\n                            />\n                        </div>\n                    </div>\n\n                    {/* Metadata Grid */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        {/* Status */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Status</label>\n                            <select\n                                value={status}\n                                onChange={(e) => setStatus(e.target.value as any)}\n                                className=\"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium cursor-pointer\"\n                            >\n                                <option value=\"TODO\">To Do</option>\n                                <option value=\"IN_PROGRESS\">In Progress</option>\n                                <option value=\"DONE\">Completed</option>\n                            </select>\n                        </div>\n\n                        {/* Priority */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Priority</label>\n                            <select\n                                value={priority}\n                                onChange={(e) => setPriority(e.target.value)}\n                                className=\"w-full px-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium cursor-pointer\"\n                            >\n                                <option value=\"LOW\">Low</option>\n                                <option value=\"MEDIUM\">Medium</option>\n                                <option value=\"HIGH\">High</option>\n                            </select>\n                        </div>\n\n                        {/* Due Date */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Due Date</label>\n                            <div className=\"relative\">\n                                <Calendar className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                                <input\n                                    type=\"date\"\n                                    value={dueDate}\n                                    onChange={(e) => setDueDate(e.target.value)}\n                                    className=\"w-full pl-12 pr-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Assignee Search */}\n                        <div className=\"relative\">\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Assign To</label>\n                            {selectedUser ? (\n                                <div className=\"flex items-center justify-between px-5 py-3 rounded-xl bg-[#e0e7ff] border border-[#5453E8]/30\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-8 h-8 rounded-full bg-white flex items-center justify-center text-[#5453E8] font-bold text-xs uppercase border border-[#5453E8]/20\">\n                                            {selectedUser.username?.substring(0, 2) || \"U\"}\n                                        </div>\n                                        <span className=\"font-bold text-[#4338ca] text-sm\">{selectedUser.username}</span>\n                                    </div>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => { setSelectedUser(null); setAssignedTo(null); }}\n                                        className=\"text-[#5453E8] hover:text-[#4338ca] transition-colors\"\n                                    >\n                                        <X size={16} />\n                                    </button>\n                                </div>\n                            ) : (\n                                <div className=\"relative\">\n                                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                                    <input\n                                        type=\"text\"\n                                        value={searchQuery}\n                                        onChange={(e) => { setSearchQuery(e.target.value); setIsSearching(true); }}\n                                        placeholder=\"Search user...\"\n                                        className=\"w-full pl-12 pr-5 py-3 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] transition-all text-gray-900 font-medium\"\n                                        onFocus={() => setIsSearching(true)}\n                                    />\n\n                                    {/* Search Dropdown */}\n                                    {isSearching && searchQuery && (\n                                        <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 max-h-48 overflow-y-auto z-20\">\n                                            {isUserFetching ? (\n                                                <div className=\"p-4 flex justify-center text-gray-400\">\n                                                    <Loader2 size={20} className=\"animate-spin\" />\n                                                </div>\n                                            ) : searchResults.length > 0 ? (\n                                                searchResults.map((user) => (\n                                                    <div\n                                                        key={user.id}\n                                                        onClick={() => {\n                                                            setSelectedUser(user);\n                                                            setAssignedTo(user.id);\n                                                            setSearchQuery(\"\");\n                                                            setIsSearching(false);\n                                                        }}\n                                                        className=\"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50 last:border-0\"\n                                                    >\n                                                        <div className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold text-xs uppercase\">\n                                                            {user.username?.substring(0, 2) || \"U\"}\n                                                        </div>\n                                                        <div className=\"flex-1\">\n                                                            <p className=\"text-sm font-bold text-gray-900 leading-snug\">{user.username}</p>\n                                                            <p className=\"text-xs text-gray-500\">{user.email}</p>\n                                                        </div>\n                                                    </div>\n                                                ))\n                                            ) : (\n                                                <div className=\"p-4 text-center text-xs text-gray-400 font-medium\">No users found</div>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Footer Actions */}\n                    <div className=\"flex items-center justify-end gap-3 pt-4\">\n                        <button\n                            type=\"button\"\n                            onClick={onClose}\n                            className=\"px-6 py-3 rounded-xl font-bold text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-all\"\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            type=\"submit\"\n                            disabled={isCreating || !title}\n                            className={`px-8 py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center gap-2 ${isCreating || !title ? \"bg-gray-300 cursor-not-allowed shadow-none\" : \"bg-[#5453E8] hover:bg-[#4338ca] shadow-indigo-200\"\n                                }`}\n                        >\n                            {isCreating && <Loader2 size={18} className=\"animate-spin\" />}\n                            Create Task\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;;AAae,SAAS,gBAAgB,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,gBAAgB,MAAM,EAAwB;IAChH,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,oBAAoB;IACpB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAM;IAEtD,MAAM,CAAC,YAAY,EAAE,WAAW,UAAU,EAAE,CAAC,GAAG,IAAA,2JAAqB;IACrE,MAAM,CAAC,aAAa,EAAE,MAAM,SAAS,EAAE,YAAY,cAAc,EAAE,CAAC,GAAG,IAAA,6JAAuB;IAE9F,IAAA,kNAAS,EAAC;QACN,IAAI,eAAe;YACf,UAAU;QACd;IACJ,GAAG;QAAC;QAAe;KAAO;IAE1B,sBAAsB;IACtB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,QAAQ;YACT,SAAS;YACT,eAAe;YACf,YAAY;YACZ,WAAW;YACX,cAAc;YACd,gBAAgB;YAChB,eAAe;YACf,iBAAiB,EAAE;QACvB;IACJ,GAAG;QAAC;KAAO;IAEX,gBAAgB;IAChB,IAAA,kNAAS,EAAC;QACN,MAAM,YAAY,WAAW;YACzB,IAAI,YAAY,IAAI,IAAI;gBACpB,YAAY;YAChB,OAAO;gBACH,iBAAiB,EAAE;YACvB;QACJ,GAAG;QAEH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;QAAa;KAAY;IAE7B,IAAA,kNAAS,EAAC;QACN,IAAI,WAAW,MAAM;YACjB,iBAAiB,UAAU,IAAI;QACnC;IACJ,GAAG;QAAC;KAAU;IAGd,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,SAAS,CAAC,WAAW;QAE1B,IAAI;YACA,MAAM,WAAW;gBACb;gBACA,MAAM;oBACF;oBACA;oBACA;oBACA;oBACA,UAAU,WAAW;oBACrB,aAAa;gBACjB;YACJ,GAAG,MAAM;YACT;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC5C;IACJ;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAkD;;;;;;sCAChE,8OAAC;4BACG,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAIjB,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCAEpC,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;;gDAA6C;8DAC/C,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAE9C,8OAAC;4CACG,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,aAAY;4CACZ,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAIhB,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA6C;;;;;;sDAC9D,8OAAC;4CACG,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4CAC9C,aAAY;4CACZ,MAAM;4CACN,WAAU;;;;;;;;;;;;;;;;;;sCAMtB,8OAAC;4BAAI,WAAU;;8CAEX,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA6C;;;;;;sDAC9D,8OAAC;4CACG,OAAO;4CACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4CACzC,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAc;;;;;;8DAC5B,8OAAC;oDAAO,OAAM;8DAAO;;;;;;;;;;;;;;;;;;8CAK7B,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA6C;;;;;;sDAC9D,8OAAC;4CACG,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAM;;;;;;8DACpB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAO;;;;;;;;;;;;;;;;;;8CAK7B,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA6C;;;;;;sDAC9D,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,sNAAQ;oDAAC,WAAU;oDAAyD,MAAM;;;;;;8DACnF,8OAAC;oDACG,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;oDAC1C,WAAU;;;;;;;;;;;;;;;;;;8CAMtB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAM,WAAU;sDAA6C;;;;;;wCAC7D,6BACG,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAI,WAAU;sEACV,aAAa,QAAQ,EAAE,UAAU,GAAG,MAAM;;;;;;sEAE/C,8OAAC;4DAAK,WAAU;sEAAoC,aAAa,QAAQ;;;;;;;;;;;;8DAE7E,8OAAC;oDACG,MAAK;oDACL,SAAS;wDAAQ,gBAAgB;wDAAO,cAAc;oDAAO;oDAC7D,WAAU;8DAEV,cAAA,8OAAC,iMAAC;wDAAC,MAAM;;;;;;;;;;;;;;;;iEAIjB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC,gNAAM;oDAAC,WAAU;oDAAyD,MAAM;;;;;;8DACjF,8OAAC;oDACG,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC;wDAAQ,eAAe,EAAE,MAAM,CAAC,KAAK;wDAAG,eAAe;oDAAO;oDACzE,aAAY;oDACZ,WAAU;oDACV,SAAS,IAAM,eAAe;;;;;;gDAIjC,eAAe,6BACZ,8OAAC;oDAAI,WAAU;8DACV,+BACG,8OAAC;wDAAI,WAAU;kEACX,cAAA,8OAAC,4NAAO;4DAAC,MAAM;4DAAI,WAAU;;;;;;;;;;+DAEjC,cAAc,MAAM,GAAG,IACvB,cAAc,GAAG,CAAC,CAAC,qBACf,8OAAC;4DAEG,SAAS;gEACL,gBAAgB;gEAChB,cAAc,KAAK,EAAE;gEACrB,eAAe;gEACf,eAAe;4DACnB;4DACA,WAAU;;8EAEV,8OAAC;oEAAI,WAAU;8EACV,KAAK,QAAQ,EAAE,UAAU,GAAG,MAAM;;;;;;8EAEvC,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAE,WAAU;sFAAgD,KAAK,QAAQ;;;;;;sFAC1E,8OAAC;4EAAE,WAAU;sFAAyB,KAAK,KAAK;;;;;;;;;;;;;2DAd/C,KAAK,EAAE;;;;kFAmBpB,8OAAC;wDAAI,WAAU;kEAAoD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAU/F,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCACG,MAAK;oCACL,SAAS;oCACT,WAAU;8CACb;;;;;;8CAGD,8OAAC;oCACG,MAAK;oCACL,UAAU,cAAc,CAAC;oCACzB,WAAW,CAAC,2FAA2F,EAAE,cAAc,CAAC,QAAQ,+CAA+C,qDACzK;;wCAEL,4BAAc,8OAAC,4NAAO;4CAAC,MAAM;4CAAI,WAAU;;;;;;wCAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1F"}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file:///Users/bestbuy/Desktop/redstar-assesment/frontend/src/components/dashboard/TaskDetailsSidebar.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { X, Loader2, Calendar, User, Search, Trash2, Edit2, Check, Clock, AlertCircle } from \"lucide-react\";\nimport { useUpdateTaskMutation, useDeleteTaskMutation } from \"@/features/task/taskApi\";\nimport { useLazySearchUsersQuery } from \"@/features/auth/authApi\";\n\ninterface TaskDetailsSidebarProps {\n    isOpen: boolean;\n    onClose: () => void;\n    task: any; // Using any for now to match other parts, but ideally Task interface\n}\n\nexport default function TaskDetailsSidebar({ isOpen, onClose, task }: TaskDetailsSidebarProps) {\n    const [isEditing, setIsEditing] = useState(false);\n\n    // Form State\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [status, setStatus] = useState(\"TODO\");\n    const [priority, setPriority] = useState(\"MEDIUM\");\n    const [dueDate, setDueDate] = useState(\"\");\n    const [assignedTo, setAssignedTo] = useState<number | null>(null);\n\n    // User Search State\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [isSearching, setIsSearching] = useState(false);\n    const [searchResults, setSearchResults] = useState<any[]>([]);\n    const [selectedUser, setSelectedUser] = useState<any>(null);\n\n    const [updateTask, { isLoading: isUpdating }] = useUpdateTaskMutation();\n    const [deleteTask, { isLoading: isDeleting }] = useDeleteTaskMutation();\n    const [searchUsers, { data: usersData, isFetching: isUserFetching }] = useLazySearchUsersQuery();\n\n    useEffect(() => {\n        if (task) {\n            setTitle(task.title || \"\");\n            setDescription(task.description || \"\");\n            setStatus(task.status || \"TODO\");\n            setPriority(task.priority || \"MEDIUM\");\n            setDueDate(task.due_date ? new Date(task.due_date).toISOString().split('T')[0] : \"\");\n            setAssignedTo(task.assigned_to || null);\n            // If we had user details in task, we'd set selectedUser here\n            // For now, if assigned_to is present but no user object, maybe we fetch or just leave generic?\n            // Assuming task might have 'assignee' object or similar if populated?\n            // If not, we might need to fetch the user or just show ID. \n            // For now let's assume we can't show the name if purely just ID is passed unless we fetch list.\n            // But usually getAllTasks might include expanded user?\n            // Let's check previous getAllTask response... \n            // The user showed: \"assigned_to\": 2. No user object.\n            // So we might just show \"User ID: 2\" or try to fetch.\n        }\n    }, [task, isOpen]);\n\n    // Handle Search\n    useEffect(() => {\n        const timeoutId = setTimeout(() => {\n            if (searchQuery.trim()) {\n                searchUsers(searchQuery);\n            } else {\n                setSearchResults([]);\n            }\n        }, 500);\n\n        return () => clearTimeout(timeoutId);\n    }, [searchQuery, searchUsers]);\n\n    useEffect(() => {\n        if (usersData?.data) {\n            setSearchResults(usersData.data);\n        }\n    }, [usersData]);\n\n\n    const handleUpdate = async (e: React.FormEvent) => {\n        e.preventDefault();\n        try {\n            await updateTask({\n                id: task.id,\n                body: {\n                    title,\n                    description,\n                    status,\n                    priority,\n                    due_date: dueDate || null,\n                    assigned_to: assignedTo\n                }\n            }).unwrap();\n            setIsEditing(false);\n            // onClose(); // Optional: close or keep open? User might want to see changes. Let's keep open.\n        } catch (error) {\n            console.error(\"Failed to update task:\", error);\n        }\n    };\n\n    const handleDelete = async () => {\n        if (window.confirm(\"Are you sure you want to delete this task?\")) {\n            try {\n                await deleteTask(task.id).unwrap();\n                onClose();\n            } catch (error) {\n                console.error(\"Failed to delete task:\", error);\n            }\n        }\n    };\n\n    if (!isOpen || !task) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex justify-end\">\n            {/* Backdrop */}\n            <div\n                className=\"absolute inset-0 bg-black/20 backdrop-blur-sm animate-in fade-in duration-200\"\n                onClick={onClose}\n            />\n\n            {/* Sidebar */}\n            <div className=\"relative w-full max-w-md bg-white h-full shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col p-6 overflow-y-auto\">\n\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-8\">\n                    <div className=\"flex items-center gap-2\">\n                        {!isEditing ? (\n                            <>\n                                <button\n                                    onClick={() => setIsEditing(true)}\n                                    className=\"p-2 text-gray-500 hover:text-[#5453E8] hover:bg-[#e0e7ff] rounded-full transition-all\"\n                                    title=\"Edit Task\"\n                                >\n                                    <Edit2 size={20} />\n                                </button>\n                                <button\n                                    onClick={handleDelete}\n                                    className=\"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all\"\n                                    title=\"Delete Task\"\n                                >\n                                    {isDeleting ? <Loader2 size={20} className=\"animate-spin\" /> : <Trash2 size={20} />}\n                                </button>\n                            </>\n                        ) : (\n                            <button\n                                onClick={() => setIsEditing(false)}\n                                className=\"px-4 py-2 text-sm font-bold text-gray-500 hover:text-gray-900 bg-gray-100 rounded-lg\"\n                            >\n                                Cancel Edit\n                            </button>\n                        )}\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all\"\n                    >\n                        <X size={24} />\n                    </button>\n                </div>\n\n                {/* Content */}\n                {isEditing ? (\n                    <form onSubmit={handleUpdate} className=\"space-y-6 flex-1\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Title</label>\n                            <input\n                                type=\"text\"\n                                value={title}\n                                onChange={(e) => setTitle(e.target.value)}\n                                className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-900\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Description</label>\n                            <textarea\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                rows={4}\n                                className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900 resize-none\"\n                            />\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">Status</label>\n                                <select\n                                    value={status}\n                                    onChange={(e) => setStatus(e.target.value)}\n                                    className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-700\"\n                                >\n                                    <option value=\"TODO\">To Do</option>\n                                    <option value=\"IN_PROGRESS\">In Progress</option>\n                                    <option value=\"DONE\">Completed</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">Priority</label>\n                                <select\n                                    value={priority}\n                                    onChange={(e) => setPriority(e.target.value)}\n                                    className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-bold text-gray-700\"\n                                >\n                                    <option value=\"LOW\">Low</option>\n                                    <option value=\"MEDIUM\">Medium</option>\n                                    <option value=\"HIGH\">High</option>\n                                </select>\n                            </div>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Due Date</label>\n                            <input\n                                type=\"date\"\n                                value={dueDate}\n                                onChange={(e) => setDueDate(e.target.value)}\n                                className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900\"\n                            />\n                        </div>\n\n                        {/* Assignee Search Simply Reuse */}\n                        <div className=\"relative\">\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Assign To</label>\n                            {selectedUser || assignedTo ? (\n                                <div className=\"flex items-center justify-between px-4 py-2 rounded-xl bg-[#e0e7ff] border border-[#5453E8]/30\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <User size={16} className=\"text-[#5453E8]\" />\n                                        <span className=\"font-bold text-[#4338ca] text-sm\">\n                                            {selectedUser ? selectedUser.username : `User ID: ${assignedTo}`}\n                                        </span>\n                                    </div>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => { setSelectedUser(null); setAssignedTo(null); }}\n                                        className=\"text-[#5453E8] hover:text-[#4338ca]\"\n                                    >\n                                        <X size={16} />\n                                    </button>\n                                </div>\n                            ) : (\n                                <div className=\"relative\">\n                                    <input\n                                        type=\"text\"\n                                        value={searchQuery}\n                                        onChange={(e) => { setSearchQuery(e.target.value); setIsSearching(true); }}\n                                        placeholder=\"Search user...\"\n                                        className=\"w-full px-4 py-2 rounded-xl bg-gray-50 border border-gray-100 focus:outline-none focus:ring-2 focus:ring-[#5453E8]/20 focus:border-[#5453E8] font-medium text-gray-900\"\n                                    />\n                                    {isSearching && searchQuery && (\n                                        <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 max-h-48 overflow-y-auto z-20\">\n                                            {searchResults.length > 0 ? (\n                                                searchResults.map((user) => (\n                                                    <div\n                                                        key={user.id}\n                                                        onClick={() => {\n                                                            setSelectedUser(user);\n                                                            setAssignedTo(user.id);\n                                                            setSearchQuery(\"\");\n                                                            setIsSearching(false);\n                                                        }}\n                                                        className=\"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50\"\n                                                    >\n                                                        <div className=\"text-sm font-bold text-gray-900\">{user.username}</div>\n                                                    </div>\n                                                ))\n                                            ) : (\n                                                <div className=\"p-3 text-center text-xs text-gray-400\">No users found</div>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            disabled={isUpdating}\n                            className=\"w-full py-3 rounded-xl bg-[#5453E8] hover:bg-[#4338ca] text-white font-bold shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2\"\n                        >\n                            {isUpdating ? <Loader2 size={18} className=\"animate-spin\" /> : <Check size={18} />}\n                            Save Changes\n                        </button>\n                    </form>\n                ) : (\n                    <div className=\"space-y-8 flex-1\">\n                        <div>\n                            <h2 className=\"text-2xl font-extrabold text-gray-900 leading-tight mb-2\">{task.title}</h2>\n                            <div className=\"flex flex-wrap gap-2\">\n                                <span className={`px-2 py-1 rounded-md text-xs font-bold ${task.status === \"TODO\" ? \"bg-purple-100 text-purple-700\" :\n                                        task.status === \"IN_PROGRESS\" ? \"bg-amber-100 text-amber-700\" :\n                                            \"bg-green-100 text-green-700\"\n                                    }`}>\n                                    {task.status?.replace(\"_\", \" \")}\n                                </span>\n                                <span className={`px-2 py-1 rounded-md text-xs font-bold ${task.priority === \"HIGH\" ? \"bg-red-100 text-red-700\" :\n                                        task.priority === \"MEDIUM\" ? \"bg-blue-100 text-blue-700\" :\n                                            \"bg-amber-100 text-amber-700\"\n                                    }`}>\n                                    {task.priority} Priority\n                                </span>\n                            </div>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-start gap-3\">\n                                <span className=\"p-2 rounded-lg bg-gray-50 text-gray-400 mt-1\">\n                                    <AlertCircle size={18} />\n                                </span>\n                                <div>\n                                    <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1\">Description</h4>\n                                    <p className=\"text-gray-700 font-medium leading-relaxed\">\n                                        {task.description || \"No description provided.\"}\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"p-2 rounded-lg bg-gray-50 text-gray-400\">\n                                    <Clock size={18} />\n                                </span>\n                                <div>\n                                    <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1\">Due Date</h4>\n                                    <p className=\"text-gray-900 font-bold\">\n                                        {task.due_date ? new Date(task.due_date).toLocaleDateString() : \"No due date\"}\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"p-2 rounded-lg bg-gray-50 text-gray-400\">\n                                    <User size={18} />\n                                </span>\n                                <div>\n                                    <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1\">Assigned To</h4>\n                                    <p className=\"text-gray-900 font-bold\">\n                                        {task.assigned_to ? `User #${task.assigned_to}` : \"Unassigned\"}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1522, "column": 0}, "map": {"version":3,"sources":["file:///Users/bestbuy/Desktop/redstar-assesment/frontend/src/app/dashboard/project/%5BprojectId%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useGetSpecificProjectQuery } from \"@/features/project/projectApi\";\nimport { useGetAllTaskQuery, useToggleTaskStatusMutation } from \"@/features/task/taskApi\";\nimport { useDashboard } from \"../../dashboard-context\";\nimport { DndProvider, useDrag, useDrop } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport {\n    Loader2,\n    LayoutGrid,\n    Plus,\n    MessageSquare,\n    Home,\n    ChevronRight,\n    BarChart3,\n} from \"lucide-react\";\n\ntype ViewMode = \"board\" | \"list\" | \"overview\";\n\nimport CreateTaskModal from \"@/components/dashboard/CreateTaskModal\";\nimport TaskDetailsSidebar from \"@/components/dashboard/TaskDetailsSidebar\";\nimport { ProjectOverview } from \"./ProjectOverview\";\n\nconst ItemTypes = {\n    TASK: 'task'\n};\n\nexport default function ProjectDetailsPage() {\n    const params = useParams();\n    const router = useRouter();\n    const projectId = params?.projectId as string;\n    const { setActiveWorkspaceId } = useDashboard();\n\n    const { data: projectData, isLoading, isError } = useGetSpecificProjectQuery(projectId, {\n        skip: !projectId\n    });\n    const [viewMode, setViewMode] = useState<ViewMode>(\"overview\");\n    const [isCreateTaskModalOpen, setIsCreateTaskModalOpen] = useState(false);\n    const [createTaskDefaultStatus, setCreateTaskDefaultStatus] = useState<\"TODO\" | \"IN_PROGRESS\" | \"DONE\">(\"TODO\");\n    const [selectedTask, setSelectedTask] = useState<any>(null);\n\n    const { data } = useGetAllTaskQuery({ projectId }, { skip: !projectId });\n    useEffect(() => {\n        if (projectData?.data?.workspaceId) {\n            setActiveWorkspaceId(projectData.data.workspaceId);\n        }\n    }, [projectData, setActiveWorkspaceId]);\n\n    if (isLoading) {\n        return (\n            <div className=\"flex h-screen items-center justify-center bg-[#fafafa]\">\n                <Loader2 size={40} className=\"animate-spin text-[#5453E8]\" />\n            </div>\n        );\n    }\n\n    if (isError || !projectData?.data) {\n        return (\n            <div className=\"flex h-screen items-center justify-center bg-[#fafafa] flex-col gap-4\">\n                <p className=\"text-gray-500\">Project not found or error loading project.</p>\n                <button\n                    onClick={() => router.push(\"/dashboard\")}\n                    className=\"text-[#5453E8] font-bold hover:underline\"\n                >\n                    Go back to Dashboard\n                </button>\n            </div>\n        );\n    }\n\n    const project = projectData.data;\n\n    const allTasks = data?.data || [];\n\n    const mockTasks = {\n        todo: allTasks.filter((t: any) => t.status === \"TODO\"),\n        inProgress: allTasks.filter((t: any) => t.status === \"IN_PROGRESS\"),\n        completed: allTasks.filter((t: any) => t.status === \"DONE\")\n    };\n    const getPriorityStyles = (priority: string) => {\n        // Handle API priority values (usually UPPERCASE)\n        const p = priority?.toUpperCase() || \"\";\n        switch (p) {\n            case \"HIGH\": return \"bg-[#fee2e2] text-[#b91c1c]\";\n            case \"MEDIUM\": return \"bg-[#e0f2fe] text-[#0369a1]\";\n            case \"LOW\": return \"bg-[#fef3c7] text-[#b45309]\";\n            case \"IMPORTANT\": return \"bg-[#e0e7ff] text-[#4338ca]\";\n            case \"MEH\": return \"bg-[#e0f2fe] text-[#0369a1]\";\n            case \"OK\": return \"bg-[#fef3c7] text-[#b45309]\";\n            default: return \"bg-gray-100 text-gray-700\";\n        }\n    };\n\n    return (\n        <DndProvider backend={HTML5Backend}>\n            <div className=\"p-6 lg:p-10 font-sans max-w-[1600px] mx-auto\">\n                <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-8\">\n                    <div className=\"space-y-4\">\n                        <div className=\"flex items-center gap-2 text-sm text-gray-400 font-medium\">\n                            <button onClick={() => router.push(\"/dashboard\")} className=\"hover:text-[#5453E8] transition-colors\">\n                                <Home size={16} />\n                            </button>\n                            <ChevronRight size={16} strokeWidth={1.5} />\n                            <span>Projects</span>\n                            <ChevronRight size={16} strokeWidth={1.5} />\n                            <span className=\"text-gray-900\">{project.name}</span>\n                        </div>\n\n\n                        <div className=\"flex items-center gap-3\">\n                            <h1 className=\"text-3xl lg:text-4xl font-extrabold text-gray-900 tracking-tight\">{project.name}</h1>\n                            <span className=\"px-3 py-1 bg-[#e0e7ff] text-[#5453E8] text-xs font-bold rounded-full\">\n                                Label\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Navigation Tabs & Filter */}\n                <div className=\"flex flex-col sm:flex-row items-center justify-between border-b border-gray-100 mb-8\">\n                    <div className=\"flex items-center gap-6 lg:gap-8 w-full sm:w-auto overflow-x-auto no-scrollbar\">\n                        <button\n                            onClick={() => setViewMode(\"overview\")}\n                            className={`flex items-center gap-2 py-4 text-sm font-bold border-b-2 transition-all whitespace-nowrap ${viewMode === \"overview\"\n                                ? \"border-[#5453E8] text-[#5453E8]\"\n                                : \"border-transparent text-gray-500 hover:text-gray-800\"\n                                }`}\n                        >\n                            <BarChart3 size={18} /> Overview\n                        </button>\n                        <button\n                            onClick={() => setViewMode(\"board\")}\n                            className={`flex items-center gap-2 py-4 text-sm font-bold border-b-2 transition-all whitespace-nowrap ${viewMode === \"board\"\n                                ? \"border-[#5453E8] text-[#5453E8]\"\n                                : \"border-transparent text-gray-500 hover:text-gray-800\"\n                                }`}\n                        >\n                            <LayoutGrid size={18} /> Grid View\n                        </button>\n                    </div>\n                </div>\n\n                {/* Content Area */}\n                {viewMode === \"board\" ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8\">\n                        <TaskColumn\n                            title=\"To Do\"\n                            status=\"TODO\"\n                            count={mockTasks.todo.length}\n                            color=\"purple\"\n                            tasks={mockTasks.todo}\n                            getPriorityStyles={getPriorityStyles}\n                            onAddTask={() => { setCreateTaskDefaultStatus(\"TODO\"); setIsCreateTaskModalOpen(true); }}\n                            onTaskClick={(task) => setSelectedTask(task)}\n                        />\n                        <TaskColumn\n                            title=\"In Progress\"\n                            status=\"IN_PROGRESS\"\n                            count={mockTasks.inProgress.length}\n                            color=\"orange\"\n                            tasks={mockTasks.inProgress}\n                            getPriorityStyles={getPriorityStyles}\n                            onAddTask={() => { setCreateTaskDefaultStatus(\"IN_PROGRESS\"); setIsCreateTaskModalOpen(true); }}\n                            onTaskClick={(task) => setSelectedTask(task)}\n                        />\n                        <TaskColumn\n                            title=\"Completed\"\n                            status=\"DONE\"\n                            count={mockTasks.completed.length}\n                            color=\"green\"\n                            tasks={mockTasks.completed}\n                            getPriorityStyles={getPriorityStyles}\n                            onAddTask={() => { setCreateTaskDefaultStatus(\"DONE\"); setIsCreateTaskModalOpen(true); }}\n                            onTaskClick={(task) => setSelectedTask(task)}\n                        />\n                    </div>\n                ) : (\n                    <div className=\"bg-white rounded-3xl p-10 border border-gray-100 text-center text-gray-500\">\n                        <p>List View is under construction. Please switch to Board View.</p>\n                    </div>\n                )}\n\n                <CreateTaskModal\n                    isOpen={isCreateTaskModalOpen}\n                    onClose={() => setIsCreateTaskModalOpen(false)}\n                    projectId={projectId}\n                    defaultStatus={createTaskDefaultStatus}\n                />\n\n                <TaskDetailsSidebar\n                    isOpen={!!selectedTask}\n                    onClose={() => setSelectedTask(null)}\n                    task={selectedTask}\n                />\n            </div>\n        </DndProvider>\n    );\n}\n\n// Separate Draggable Component for Task Card\nfunction DraggableTaskCard({ task, getPriorityStyles, onTaskClick }: { task: any, getPriorityStyles: any, onTaskClick: any }) {\n    const [{ isDragging }, drag] = useDrag(() => ({\n        type: ItemTypes.TASK,\n        item: { id: task.id },\n        collect: (monitor) => ({\n            isDragging: !!monitor.isDragging(),\n        }),\n    }));\n\n    return (\n        <div\n            ref={drag as unknown as React.LegacyRef<HTMLDivElement>}\n            onClick={() => onTaskClick(task)}\n            className={`bg-white p-5 rounded-[20px] shadow-[0_4px_20px_rgba(0,0,0,0.03)] border border-gray-100/50 hover:shadow-[0_8px_30px_rgba(0,0,0,0.06)] hover:translate-y-[-2px] transition-all cursor-pointer group ${isDragging ? \"opacity-50\" : \"opacity-100\"}`}\n        >\n            {/* Priority Tag */}\n            <div className=\"mb-3\">\n                <span className={`inline-block px-3 py-1 rounded-lg text-[11px] font-bold tracking-wide ${getPriorityStyles(task.priority)}`}>\n                    {task.priority}\n                </span>\n            </div>\n\n            {/* Title */}\n            <h4 className=\"text-[15px] leading-snug font-bold text-gray-900 mb-6 group-hover:text-[#5453E8] transition-colors\">\n                {task.title}\n            </h4>\n\n            {/* Footer (Avatars + Comments) */}\n            <div className=\"flex items-center justify-between\">\n                <div className=\"flex -space-x-2\">\n                    {[1, 2].map((i) => (\n                        <div key={i} className=\"w-8 h-8 rounded-full border-2 border-white bg-gray-200 overflow-hidden\">\n                            <img src={`https://api.dicebear.com/7.x/avataaars/svg?seed=${task.id + i}`} alt=\"user\" className=\"w-full h-full\" />\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"flex items-center gap-1.5 text-gray-400\">\n                    <MessageSquare size={16} fill=\"currentColor\" className=\"text-gray-300\" />\n                    <span className=\"text-xs font-bold text-gray-500\">{task.comments || ((task.id * 7) % 5) + 1}</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction TaskColumn({ title, count, color, tasks, getPriorityStyles, onAddTask, onTaskClick, status }: {\n    title: string; count: number; color: \"purple\" | \"orange\" | \"green\"; tasks: any[];\n    getPriorityStyles: (priority: string) => string;\n    onAddTask: () => void;\n    onTaskClick: (task: any) => void;\n    status: \"TODO\" | \"IN_PROGRESS\" | \"DONE\";\n}) {\n    // Config based on color theme\n    const config = {\n        purple: {\n            dot: \"bg-[#5453E8]\",\n            btn: \"bg-[#5453E8] hover:bg-[#4338ca]\",\n            btnShadow: \"shadow-indigo-200\",\n            total: \"bg-gray-100 text-gray-500\"\n        },\n        orange: {\n            dot: \"bg-[#f59e0b]\",\n            btn: \"bg-[#f59e0b] hover:bg-[#d97706]\",\n            btnShadow: \"shadow-amber-200\",\n            total: \"bg-gray-100 text-gray-500\"\n        },\n        green: {\n            dot: \"bg-[#22c55e]\",\n            btn: \"bg-[#22c55e] hover:bg-[#16a34a]\",\n            btnShadow: \"shadow-green-200\",\n            total: \"bg-gray-100 text-gray-500\"\n        }\n    };\n\n    const theme = config[color];\n\n    const [toggleTaskStatus] = useToggleTaskStatusMutation();\n\n    const [{ isOver }, drop] = useDrop(() => ({\n        accept: ItemTypes.TASK,\n        drop: (item: { id: number }) => {\n            toggleTaskStatus({ id: item.id, body: { status } });\n        },\n        collect: (monitor) => ({\n            isOver: !!monitor.isOver(),\n        }),\n    }));\n\n    return (\n        <div ref={drop as unknown as React.LegacyRef<HTMLDivElement>} className={`flex flex-col h-full rounded-3xl transition-colors ${isOver ? \"bg-gray-50/80 ring-2 ring-[#5453E8]/20\" : \"\"}`}>\n            {/* Column Header */}\n            <div className=\"flex items-center justify-between mb-5 px-1\">\n                <div className=\"flex items-center gap-3\">\n                    <div className={`w-2.5 h-2.5 rounded-full ${theme.dot}`} />\n                    <h3 className=\"text-xl font-bold text-gray-900 tracking-tight\">{title}</h3>\n                </div>\n                <div className={`px-3 py-1 rounded-full text-xs font-bold ${theme.total}`}>\n                    {count} Total\n                </div>\n            </div>\n\n            {/* Add Task Button */}\n            <button\n                onClick={onAddTask}\n                className={`w-full py-3.5 mb-6 rounded-2xl text-white font-bold flex items-center justify-center gap-2 transition-all shadow-lg ${theme.btn} ${theme.btnShadow}`}\n            >\n                <Plus size={20} /> Add New Task\n            </button>\n\n            {/* Task List */}\n            <div className=\"space-y-5\">\n                {tasks.map((task) => (\n                    <DraggableTaskCard\n                        key={task.id}\n                        task={task}\n                        getPriorityStyles={getPriorityStyles}\n                        onTaskClick={onTaskClick}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}